(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();async function _e(t){const e=t.toLowerCase();if(!/(покажи|відобрази|show).*(стек|stack|технолог)/.test(e))return null;let i=[];const a=t.match(/:(.+)$/);a&&(i=a[1].split(/[,;]/).map(s=>s.trim()).filter(Boolean).slice(0,12));const l=document.querySelector("[data-stack-panel]");if(l){l.style.display="";const s=l.querySelector(".stack-tags");s&&i.length&&(s.innerHTML=i.map(c=>`<li>${c}</li>`).join(""));const d=document.querySelector(".event-log");if(d){const c=document.createElement("li");c.textContent="Показано стек ("+(i.length?i.length+" tech":"default")+")",d.appendChild(c)}return{shown:!0,technologies:i}}return null}window.__stackFuncDemo={processWithStackFunction:_e};console.info('[stackFunctionCalling] ready. Викличте window.__stackFuncDemo.processWithStackFunction("Покажи стек: React, Node.js")');function Q(t,e){t&&(t.style.display=e?"":"none")}function ht(t){t&&(t.style.display=t.style.display==="none"?"":"none")}function Pe(){const t=document.getElementById("ai-hub");Q(t,!0);try{t?.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch{}}function Oe(){const t=document.getElementById("ai-hub");Q(t,!1)}function Me(){const t=document.getElementById("ai-hub");ht(t)}function Zt(){const t=document.querySelector("#ai-hub .panel--primary");Q(t,!0);try{t?.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch{}}function te(){const t=document.querySelector("#ai-hub .panel--primary");Q(t,!1)}function ee(){const t=document.querySelector("#ai-hub .panel--primary");ht(t)}function fe(){const t=document.querySelector("#ai-hub .panel--commands");Q(t,!0);try{t?.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch{}}function he(){const t=document.querySelector("#ai-hub .panel--commands");Q(t,!1)}function ge(){const t=document.querySelector("#ai-hub .panel--commands");ht(t)}function be(){const t=document.querySelector("#ai-hub .panel--log");Q(t,!0);try{t?.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch{}}function ye(){const t=document.querySelector("#ai-hub .panel--log");Q(t,!1)}function we(){const t=document.querySelector("#ai-hub .panel--log");ht(t)}const Se="site-lang";let ct=null;const pt={uk:{meta_title:"Артем Подоба • Front-end Developer",meta_description:"Портфоліо Артема Подоби — Front-end Developer з Вінниці. Інтерфейси, продуктивність, інтеграція AI.",skip_to_content:"Пропустити до контенту",brand_name:"Артем Подоба",brand_aria:"Лого / Ім'я",main_nav_aria:"Головна навігація",nav_about:"Про мене",nav_stack:"Стек",nav_projects:"Проекти",nav_contact:"Контакт",theme_label:"Тема",theme_tip:"Тема",theme_toggle_aria:"Перемкнути тему",theme_toggle_title:"Перемкнути між темною та світлою темою",hero_title_pre:"Привіт, я",hero_name:"Артем",hero_subtitle:"Front-end Developer з Вінниці. Працюю над швидкими інтерфейсами, продуктивністю та інтеграцією AI у робочі процеси.",hero_cta_projects:"Переглянути проекти",hero_cta_contact:"Зв'язатися",hero_note:"У нижньому доку працює AI Console: пиши команди на кшталт /help, /stack, /projects react або просто питання. Модель може відкривати панелі, вмикати світлу тему, показувати контактну форму й опис сайту через спеціальні маркери.",dock_title:"AI Console",dock_hint:"prototype",aihub_title:"AI Interaction Hub",aihub_tagline:"Центр керування. Тут AI відображає дії, контекст, стек, фільтри проєктів і журнал. Усе пов'язано з командами у чаті.",panel_live:"Живий Вивід",panel_commands:"Команди",panel_log:"Журнал",panel_stack:"Стек",sec_about:"Про мене",sec_stack:"Стек",sec_projects:"Проекти",sec_contact:"Контакт",composer_placeholder:"Введи команду або текст… (/help)",composer_hint:"Enter — надіслати • Shift+Enter — новий рядок • / — команди",composer_send:"Надіслати",stat_commands:"Команд",stat_sessions:"Сесій",stat_ideas:"Ідей",dock_collapse_hint:"Згорнути",ib_about:"Про мене",ib_skills:"Скіли",ib_principles:"Принципи",ib_highlights:"Хайлайти",ib_contact:"Контакт",ib_about_p1:"Я — Артем Подоба, Front-end Developer з Вінниці. Прагну поєднати чисту архітектуру, зрозумілий UI та практичні AI-інструменти для прискорення розробки.",ib_about_role1:"Front-end",ib_about_role2:"AI інтеграції",ib_about_role3:"UX орієнтація",ib_skills_ui:"UI: Атомарні системи дизайну, адаптивність",ib_skills_code:"Code: Компонентна архітектура, продуктивність",ib_skills_ai:"AI: LLM prompts, інтеграція API, обробка контексту",ib_skills_ops:"Ops: CI/CD, оптимізація білду",ib_princ1:"Чистота інтерфейсу → швидше сприйняття",ib_princ2:"AI як помічник, а не магія",ib_princ3:"Маленькі ітерації, ранній фідбек",ib_princ4:"Прозорість та вимірність змін",ib_high1_label:"Оптимізація збірки",ib_high2_label:"Час завантаження",ib_high3_label:"Ідей інтеграції AI",ib_contact_p1:"Найшвидше — email або GitHub. Команда в чаті: /contact",contact_form_title:"Зв'язок / Форма",collapse_section:"Згорнути секцію",cf_label_name:"Ім'я",cf_placeholder_name:"Твоє ім'я",cf_label_email:"Email",cf_placeholder_email:"you@example.com",cf_label_message:"Повідомлення",cf_placeholder_message:"Коротко опиши запит…",cf_submit:"Надіслати",cf_or_email:"Або напиши напряму:",cf_err_invalid_email:"Вкажи коректний email",cf_err_empty_message:"Повідомлення порожнє",cf_opening_mail:"Відкриваю поштовий клієнт…",cf_prepared_prefix:"Форму підготовлено. Якщо пошта не відкрилась — напиши на",stack_lead:"Фокус: фронт + AI складова (стисло нижче).",projects_lead:"Фільтрація вже працює: скористайся командою /projects react або введи тег/технологію — список оновиться миттєво.",contact_lead:"Форма зв'язку вже доступна: попроси в чаті «контактна форма» або скористайся командою /form show. Або обери з каналів нижче.",contacts_updated:"Контакти оновлено з профілю.",cmd_help:"усі команди",cmd_stack:"показати стек",cmd_projects:"фільтр проектів",cmd_contact:"контакти",cmd_ai:"LLM запит",cmd_clear:"очистити чат",log_init:"Ініціалізація AI Hub",log_wait:"Очікування користувача…",rights_reserved:"Всі права захищено.",ib_site_profile:"Про сайт",sp_label_what:"Що",sp_label_how:"Як",sp_label_why:"Навіщо",sp_modal_title:"Про цей сайт",sp_close:"Закрити",sp_generated:"Згенеровано:",sp_updated:"Оновлено:",sp_footer_ok:"Зрозуміло",sp_opened_msg:"Інформацію про сайт відкрито у модальному вікні.",about_pro_lead:"Фронтенд-інженер з акцентом на продуктивність, надійність та відтворювані процеси. Працюю на перетині UI, інженерної дисципліни та практичного застосування AI для скорочення циклу від ідеї до релізу.",about_pro_lead_sub:"Моя мета — створювати інтерфейси, які швидко завантажуються, точно відображають бізнес-логіку і легко розширюються без хаосу. Кожна зміна повинна бути вимірюваною.",ap_principles_title:"Принципи",ap_pillars_1_title:"Продуктове мислення",ap_pillars_1_desc:"Рішення виправдані впливом, а не модою",ap_pillars_2_title:"Структура > імпровізація",ap_pillars_2_desc:"Компонентні контракти та контроль складності",ap_pillars_3_title:"Продуктивність як фічa",ap_pillars_3_desc:"Метрики у pipeline: build, LCP, bundle diff",ap_pillars_4_title:"AI як прискорювач",ap_pillars_4_desc:"Генерація чернеток, аналіз дифів, не “магія”",ap_pillars_5_title:"Прозорість процесу",ap_pillars_5_desc:"Документування змін та причин",ap_focus_title:"Фокус",ap_values_title:"Цінності",ap_metrics_title:"Метрики",ap_values_1:"Чистота бази коду",ap_values_2:"Передбачуваність релізів",ap_values_3:"Аналітика рішень",ap_values_4:"Навчання без пауз",ap_metrics_1_label:"час білду (оптимізація пайплайну)",ap_metrics_2_label:"initial load (code-splitting + кеш)",ap_metrics_3_label:"швидкість прототипування (UI kit)",toggle_to_dark:"Увімкнути темну тему",toggle_to_light:"Увімкнути світлу тему",theme_light:"Світла тема",theme_dark:"Темна тема",theme_activated:"активована",theme_saved:"Збережено в браузері.",msg_action_done:"Дію виконано.",err_error:"Помилка",err_set_key_hint:"Встанови ключ командою /setkey <ключ>. Довгі відповіді: /ai-long",err_no_api_key:'Немає API ключа. Використай /setkey <ключ> або window.__AI_KEY = "sk-..."',ex_ai_hooks:"Приклад: /ai поясни що таке React hooks",ex_ai_long:"Приклад: /ai-long детальний конспект про WebSockets",ex_gemini:"Приклад: /gemini Поясни що таке інтерпретатор",form_hidden:"Форму приховано.",form_toggled:"Форму перемкнено.",form_opened:"Форму відкрито у блоці AI Hub.",sending:"Відправка…",ready:"Готово.",unknown_command:"Невідома команда",try_help:"Спробуй /help",cmd_error:"Помилка виконання команди.",profile_not_loaded:"Профіль ще не завантажено."},en:{meta_title:"Artem Podoba • Front-end Developer",meta_description:"Portfolio of Artem Podoba — Front-end Developer from Vinnytsia. Interfaces, performance, practical AI integration.",skip_to_content:"Skip to content",brand_name:"Artem Podoba",brand_aria:"Logo / Name",main_nav_aria:"Primary navigation",nav_about:"About",nav_stack:"Stack",nav_projects:"Projects",nav_contact:"Contact",theme_label:"Theme",theme_tip:"Theme",theme_toggle_aria:"Toggle theme",theme_toggle_title:"Toggle between dark and light theme",hero_title_pre:"Hi, I am",hero_name:"Artem",hero_subtitle:"Front-end Developer from Vinnytsia. I build fast interfaces, care about performance, and integrate AI into workflows.",hero_cta_projects:"View projects",hero_cta_contact:"Contact me",hero_note:"Bottom dock runs an AI Console: try /help, /stack, /projects react or ask a question. The model can open panels, switch theme, and show the contact form using markers.",dock_title:"AI Console",dock_hint:"prototype",aihub_title:"AI Interaction Hub",aihub_tagline:"Control center. AI reflects actions, context, stack, projects filters and a log. All wired to chat commands.",panel_live:"Live Output",panel_commands:"Commands",panel_log:"Log",panel_stack:"Stack",sec_about:"About",sec_stack:"Stack",sec_projects:"Projects",sec_contact:"Contact",composer_placeholder:"Type a command or message… (/help)",composer_hint:"Enter — send • Shift+Enter — new line • / — commands",composer_send:"Send",stat_commands:"Commands",stat_sessions:"Sessions",stat_ideas:"Ideas",dock_collapse_hint:"Collapse",ib_about:"About",ib_skills:"Skills",ib_principles:"Principles",ib_highlights:"Highlights",ib_contact:"Contact",ib_about_p1:"I'm Artem Podoba, a Front-end Developer from Vinnytsia. I combine clean architecture, clear UI, and practical AI tools to speed up development.",ib_about_role1:"Front-end",ib_about_role2:"AI integrations",ib_about_role3:"UX focus",ib_skills_ui:"UI: Atomic design systems, responsive",ib_skills_code:"Code: Component architecture, performance",ib_skills_ai:"AI: LLM prompts, API integration, context handling",ib_skills_ops:"Ops: CI/CD, build optimization",ib_princ1:"Clear interface → faster perception",ib_princ2:"AI as an assistant, not magic",ib_princ3:"Small iterations, early feedback",ib_princ4:"Transparency and measurable change",ib_high1_label:"Build optimization",ib_high2_label:"Load time",ib_high3_label:"AI integration ideas",ib_contact_p1:"Fastest — email or GitHub. Chat command: /contact",contact_form_title:"Contact / Form",collapse_section:"Collapse section",cf_label_name:"Name",cf_placeholder_name:"Your name",cf_label_email:"Email",cf_placeholder_email:"you@example.com",cf_label_message:"Message",cf_placeholder_message:"Briefly describe your request…",cf_submit:"Send",cf_or_email:"Or write directly:",cf_err_invalid_email:"Enter a valid email",cf_err_empty_message:"Message is empty",cf_opening_mail:"Opening mail client…",cf_prepared_prefix:"Form prepared. If mail didn’t open — write to",stack_lead:"Focus: front-end + AI (brief below).",projects_lead:"Filtering works: try /projects react or type a tag/tech — the list updates instantly.",contact_lead:"Contact form is available: ask in chat “contact form” or run /form show. Or choose a channel below.",contacts_updated:"Contacts updated from profile.",cmd_help:"all commands",cmd_stack:"show stack",cmd_projects:"projects filter",cmd_contact:"contacts",cmd_ai:"LLM query",cmd_clear:"clear chat",log_init:"AI Hub initialized",log_wait:"Waiting for user…",rights_reserved:"All rights reserved.",ib_site_profile:"Site Profile",sp_label_what:"What",sp_label_how:"How",sp_label_why:"Why",sp_modal_title:"About this site",sp_close:"Close",sp_generated:"Generated:",sp_updated:"Updated:",sp_footer_ok:"Got it",sp_opened_msg:"Site information opened in a modal window.",about_pro_lead:"Front-end engineer focused on performance, reliability and repeatable processes. I work at the intersection of UI, engineering discipline and practical AI to shorten the idea-to-release cycle.",about_pro_lead_sub:"My goal is to build interfaces that load fast, reflect business logic precisely, and scale without chaos. Every change must be measurable.",ap_principles_title:"Principles",ap_pillars_1_title:"Product thinking",ap_pillars_1_desc:"Decisions justified by impact, not fashion",ap_pillars_2_title:"Structure > improvisation",ap_pillars_2_desc:"Component contracts and complexity control",ap_pillars_3_title:"Performance as a feature",ap_pillars_3_desc:"Metrics in the pipeline: build, LCP, bundle diff",ap_pillars_4_title:"AI as an accelerator",ap_pillars_4_desc:"Draft generation, diff analysis, not “magic”",ap_pillars_5_title:"Process transparency",ap_pillars_5_desc:"Documenting changes and reasons",ap_focus_title:"Focus",ap_values_title:"Values",ap_metrics_title:"Metrics",ap_values_1:"Clean codebase",ap_values_2:"Predictable releases",ap_values_3:"Decision analytics",ap_values_4:"Continuous learning",ap_metrics_1_label:"build time (pipeline optimization)",ap_metrics_2_label:"initial load (code-splitting + cache)",ap_metrics_3_label:"prototyping speed (UI kit)",toggle_to_dark:"Enable dark theme",toggle_to_light:"Enable light theme",theme_light:"Light theme",theme_dark:"Dark theme",theme_activated:"activated",theme_saved:"Saved in the browser.",msg_action_done:"Action completed.",err_error:"Error",err_set_key_hint:"Set a key via /setkey <key>. For longer answers use /ai-long",err_no_api_key:'No API key. Use /setkey <key> or window.__AI_KEY = "sk-..."',ex_ai_hooks:"Example: /ai explain React hooks",ex_ai_long:"Example: /ai-long a detailed WebSockets outline",ex_gemini:"Example: /gemini Explain what an interpreter is",form_hidden:"Form hidden.",form_toggled:"Form toggled.",form_opened:"Form opened in the AI Hub block.",sending:"Sending…",ready:"Ready.",unknown_command:"Unknown command",try_help:"Try /help",cmd_error:"Command execution error.",profile_not_loaded:"Profile not loaded yet."}};function n(t){const e=ct||I();return pt[e]&&pt[e][t]||pt.uk&&pt.uk[t]||t}function I(){return ct||localStorage.getItem(Se)||"uk"}function Ot(t="uk",{apply:e=!0}={}){if(ct=t==="en"?"en":"uk",localStorage.setItem(Se,ct),document.documentElement.setAttribute("lang",ct),Nt(),e){Mt();try{window.renderStackSection&&window.renderStackSection(!0)}catch{}try{window.renderProjects&&window.renderProjects()}catch{}try{document.querySelector("[data-contact-form]")&&window.addOrUpdateContactFormBlock&&window.addOrUpdateContactFormBlock({purpose:"",scroll:!1})}catch{}try{if(window.__LAST_SITE_PROFILE){window.addOrUpdateSiteProfileBlock&&window.addOrUpdateSiteProfileBlock(window.__LAST_SITE_PROFILE);const o=document.querySelector("#site-profile-modal");o&&o.classList.contains("is-open")&&window.refreshSiteProfileModalTexts&&window.refreshSiteProfileModalTexts()}}catch{}}}function Et(){Ot(I()==="uk"?"en":"uk")}function oe(){Ot(I(),{apply:!1}),He(),Ne(),Mt();try{window.renderStackSection&&window.renderStackSection(!0)}catch{}try{window.renderProjects&&window.renderProjects()}catch{}try{document.querySelector("[data-contact-form]")&&window.addOrUpdateContactFormBlock&&window.addOrUpdateContactFormBlock({purpose:"",scroll:!1})}catch{}}function Ne(){const t=document.querySelector(".lang-toggle");t?t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Et()}):document.addEventListener("click",e=>{e.target.closest&&e.target.closest(".lang-toggle")&&(e.preventDefault(),Et())}),Nt()}function Mt(t=document){t.querySelectorAll("[data-i18n]").forEach(_=>{const k=_.getAttribute("data-i18n");k&&(_.textContent=n(k))});try{const _=document.querySelector("head > title");_&&(_.textContent=n("meta_title"));const k=document.querySelector('head > meta[name="description"]');k&&k.setAttribute("content",n("meta_description"))}catch{}const e=t.querySelector(".skip-link");e&&!e.hasAttribute("data-i18n")&&(e.textContent=n("skip_to_content"));const o=t.querySelector(".brand__text");o&&!o.hasAttribute("data-i18n")&&(o.textContent=n("brand_name"));const i=t.querySelector(".brand");i&&i.setAttribute("aria-label",n("brand_aria"));const a=t.querySelector(".nav");a&&a.setAttribute("aria-label",n("main_nav_aria"));const l=[['.nav a[href="#about"]',"nav_about"],['.nav a[href="#stack"]',"nav_stack"],['.nav a[href="#projects"]',"nav_projects"],['.nav a[href="#contact"]',"nav_contact"]];for(const[_,k]of l){const F=t.querySelector(_);F&&!F.hasAttribute("data-i18n")&&(F.textContent=n(k))}const s=t.querySelector("#about-title");s&&!s.hasAttribute("data-i18n")&&(s.textContent=n("sec_about"));const d=t.querySelector("#stack-title");d&&!d.hasAttribute("data-i18n")&&(d.textContent=n("sec_stack"));const c=t.querySelector("#projects-title");c&&!c.hasAttribute("data-i18n")&&(c.textContent=n("sec_projects"));const f=t.querySelector("#contact-title");f&&!f.hasAttribute("data-i18n")&&(f.textContent=n("sec_contact"));const g=t.querySelector("section.stack .lead[data-stack-lead]");g&&!g.hasAttribute("data-i18n")&&(g.textContent=n("stack_lead"));const m=t.querySelector("section.projects .lead");m&&!m.hasAttribute("data-i18n")&&(m.textContent=n("projects_lead"));const p=t.querySelector("section.contact .lead");p&&!p.hasAttribute("data-i18n")&&(p.textContent=n("contact_lead"));const S=t.querySelector("section.contact .mono.small");S&&!S.hasAttribute("data-i18n")&&(S.textContent=n("contacts_updated"));const A=t.querySelector(".hero__title");if(A){const _=A.querySelector(".gradient-text");_&&(_.textContent=n("hero_name"));const k=n("hero_title_pre");A.childNodes.forEach(F=>{F.nodeType===Node.TEXT_NODE&&(F.textContent=k+" ")})}const L=t.querySelector(".hero__subtitle");L&&!L.hasAttribute("data-i18n")&&(L.textContent=n("hero_subtitle"));const v=t.querySelector(".hero__cta .btn.primary");v&&!v.hasAttribute("data-i18n")&&(v.textContent=n("hero_cta_projects"));const E=t.querySelector(".hero__cta .btn.ghost");E&&!E.hasAttribute("data-i18n")&&(E.textContent=n("hero_cta_contact"));const P=t.querySelector(".hero__note");P&&!P.hasAttribute("data-i18n")&&(P.textContent=n("hero_note"));const H=t.querySelector(".about-pro__lead:not(.about-pro__lead--sub)");H&&!H.hasAttribute("data-i18n")&&(H.textContent=n("about_pro_lead"));const O=t.querySelector(".about-pro__lead--sub");O&&!O.hasAttribute("data-i18n")&&(O.textContent=n("about_pro_lead_sub"));const D=t.querySelector("#ap-pillars-title");D&&!D.hasAttribute("data-i18n")&&(D.textContent=n("ap_principles_title"));const x=t.querySelectorAll(".ap-list li");if(x[0]){const _=x[0].querySelector("strong"),k=x[0].querySelector("span");_&&(_.textContent=n("ap_pillars_1_title")),k&&(k.textContent=n("ap_pillars_1_desc"))}if(x[1]){const _=x[1].querySelector("strong"),k=x[1].querySelector("span");_&&(_.textContent=n("ap_pillars_2_title")),k&&(k.textContent=n("ap_pillars_2_desc"))}if(x[2]){const _=x[2].querySelector("strong"),k=x[2].querySelector("span");_&&(_.textContent=n("ap_pillars_3_title")),k&&(k.textContent=n("ap_pillars_3_desc"))}if(x[3]){const _=x[3].querySelector("strong"),k=x[3].querySelector("span");_&&(_.textContent=n("ap_pillars_4_title")),k&&(k.textContent=n("ap_pillars_4_desc"))}if(x[4]){const _=x[4].querySelector("strong"),k=x[4].querySelector("span");_&&(_.textContent=n("ap_pillars_5_title")),k&&(k.textContent=n("ap_pillars_5_desc"))}const U=t.querySelector("#ap-focus-title");U&&!U.hasAttribute("data-i18n")&&(U.textContent=n("ap_focus_title"));const B=t.querySelector("#ap-values-title");B&&!B.hasAttribute("data-i18n")&&(B.textContent=n("ap_values_title"));const r=t.querySelectorAll(".ap-values li");r[0]&&!r[0].hasAttribute("data-i18n")&&(r[0].textContent=n("ap_values_1")),r[1]&&!r[1].hasAttribute("data-i18n")&&(r[1].textContent=n("ap_values_2")),r[2]&&!r[2].hasAttribute("data-i18n")&&(r[2].textContent=n("ap_values_3")),r[3]&&!r[3].hasAttribute("data-i18n")&&(r[3].textContent=n("ap_values_4"));const h=t.querySelector("#ap-metrics-title");h&&!h.hasAttribute("data-i18n")&&(h.textContent=n("ap_metrics_title"));const b=t.querySelectorAll(".ap-metrics li");if(b[0]){const _=b[0].querySelector(".metric-l");_&&!_.hasAttribute("data-i18n")&&(_.textContent=n("ap_metrics_1_label"))}if(b[1]){const _=b[1].querySelector(".metric-l");_&&!_.hasAttribute("data-i18n")&&(_.textContent=n("ap_metrics_2_label"))}if(b[2]){const _=b[2].querySelector(".metric-l");_&&!_.hasAttribute("data-i18n")&&(_.textContent=n("ap_metrics_3_label"))}const M=t.querySelector(".chat-dock__title");M&&!M.hasAttribute("data-i18n")&&(M.textContent=n("dock_title"));const C=t.querySelector(".chat-dock__hint");C&&!C.hasAttribute("data-i18n")&&(C.textContent=n("dock_hint"));const N=t.querySelector(".chat-dock__collapse-hint");N&&!N.hasAttribute("data-i18n")&&(N.textContent=n("dock_collapse_hint"));const j=t.querySelector(".th-label");j&&!j.hasAttribute("data-i18n")&&(j.textContent=n("theme_label"));const rt=t.querySelector(".theme-toggle--icon");rt&&rt.setAttribute("data-tip",n("theme_tip"));const Z=t.querySelector("[data-theme-toggle]");Z&&(Z.setAttribute("aria-label",n("theme_toggle_aria")),Z.setAttribute("title",n("theme_toggle_title")));const lt=t.querySelector(".ai-hub__title");lt&&!lt.hasAttribute("data-i18n")&&(lt.textContent=n("aihub_title"));const wt=t.querySelector(".ai-hub__tagline");wt&&!wt.hasAttribute("data-i18n")&&(wt.textContent=n("aihub_tagline"));const St=t.querySelector(".ai-hub__panel.panel--primary .panel__title");St&&!St.hasAttribute("data-i18n")&&(St.textContent=n("panel_live"));const kt=t.querySelector(".ai-hub__panel.panel--commands .panel__title");kt&&!kt.hasAttribute("data-i18n")&&(kt.textContent=n("panel_commands"));const At=t.querySelector(".ai-hub__panel.panel--log .panel__title");At&&!At.hasAttribute("data-i18n")&&(At.textContent=n("panel_log"));const Dt=t.querySelector("[data-stack-panel]");if(Dt){const _=Dt.closest(".ai-hub__panel")?.querySelector(".panel__title");_&&!_.hasAttribute("data-i18n")&&(_.textContent=n("panel_stack"))}const Ut=t.querySelector("#dock-input");Ut&&Ut.setAttribute("placeholder",n("composer_placeholder"));const vt=t.querySelector("[data-hint]");vt&&!vt.hasAttribute("data-i18n")&&(vt.textContent=n("composer_hint"));const Bt=t.querySelector("#chat-form .dock-btn.primary");Bt&&Bt.setAttribute("aria-label",n("composer_send"));const W=t.querySelectorAll(".ai-hub__stats .label");W[0]&&!W[0].hasAttribute("data-i18n")&&(W[0].textContent=n("stat_commands")),W[1]&&!W[1].hasAttribute("data-i18n")&&(W[1].textContent=n("stat_sessions")),W[2]&&!W[2].hasAttribute("data-i18n")&&(W[2].textContent=n("stat_ideas"));const Lt=t.querySelectorAll(".panel--commands .cmd-list li");if(Lt&&Lt.length){const _=["cmd_help","cmd_stack","cmd_projects","cmd_contact","cmd_ai","cmd_clear"];Lt.forEach((k,F)=>{const K=k.querySelector("span");K&&!K.hasAttribute("data-i18n")&&(K.textContent=n(_[F]||""))})}const G=t.querySelectorAll(".panel--log .event-log li");G&&G.length>=2&&(G[0]&&!G[0].hasAttribute("data-i18n")&&(G[0].textContent=n("log_init")),G[1]&&!G[1].hasAttribute("data-i18n")&&(G[1].textContent=n("log_wait")));const tt=t.querySelectorAll("[data-info-blocks] .info-block");if(tt&&tt.length>=5){const _=tt[0],k=_.querySelector(".info-block__title");k&&(k.textContent=n("ib_about"));const F=_.querySelector(".info-block__body p");F&&(F.textContent=n("ib_about_p1"));const K=_.querySelectorAll(".info-tags li");K[0]&&(K[0].textContent=n("ib_about_role1")),K[1]&&(K[1].textContent=n("ib_about_role2")),K[2]&&(K[2].textContent=n("ib_about_role3"));const Kt=tt[1],zt=Kt.querySelector(".info-block__title");zt&&(zt.textContent=n("ib_skills"));const Y=Kt.querySelectorAll(".info-list li");Y[0]&&(Y[0].textContent=n("ib_skills_ui")),Y[1]&&(Y[1].textContent=n("ib_skills_code")),Y[2]&&(Y[2].textContent=n("ib_skills_ai")),Y[3]&&(Y[3].textContent=n("ib_skills_ops"));const Wt=tt[2],Gt=Wt.querySelector(".info-block__title");Gt&&(Gt.textContent=n("ib_principles"));const V=Wt.querySelectorAll(".info-steps li");V[0]&&(V[0].textContent=n("ib_princ1")),V[1]&&(V[1].textContent=n("ib_princ2")),V[2]&&(V[2].textContent=n("ib_princ3")),V[3]&&(V[3].textContent=n("ib_princ4"));const Yt=tt[3],Vt=Yt.querySelector(".info-block__title");Vt&&(Vt.textContent=n("ib_highlights"));const et=Yt.querySelectorAll(".info-grid .label");et[0]&&(et[0].textContent=n("ib_high1_label")),et[1]&&(et[1].textContent=n("ib_high2_label")),et[2]&&(et[2].textContent=n("ib_high3_label"));const Jt=tt[4],Xt=Jt.querySelector(".info-block__title");Xt&&(Xt.textContent=n("ib_contact"));const Qt=Jt.querySelector(".info-block__body p");Qt&&(Qt.textContent=n("ib_contact_p1"))}Nt()}function He(){const t=(e,o)=>{const i=document.querySelector(e);i&&!i.hasAttribute("data-i18n")&&i.setAttribute("data-i18n",o)};t(".ai-hub__title","aihub_title"),t(".ai-hub__tagline","aihub_tagline"),t(".chat-dock__title","dock_title"),t(".chat-dock__hint","dock_hint")}function Nt(){const t=document.querySelector(".lang-toggle");if(!t)return;const e=I()==="en",o=t.querySelector(".lang-toggle__label")||t;o.textContent=e?"EN":"UA",t.setAttribute("aria-pressed",String(e)),t.setAttribute("aria-label",e?"Switch to Ukrainian":"Switch to English"),t.title=e?"Switch to Ukrainian":"Switch to English"}window.I18N={getLang:I,setLanguage:Ot,toggleLanguage:Et,applyTranslations:Mt};function gt(t="toggle"){const e=document.body,o=e.classList.contains("light-theme"),i=(t||"toggle").toLowerCase();return i==="light"?(o||(e.classList.add("light-theme"),localStorage.setItem("theme","light")),ot(),"light"):i==="dark"?(o&&(e.classList.remove("light-theme"),localStorage.setItem("theme","dark")),ot(),"dark"):o?(e.classList.remove("light-theme"),localStorage.setItem("theme","dark"),ot(),"dark"):(e.classList.add("light-theme"),localStorage.setItem("theme","light"),ot(),"light")}function ot(){try{const t=document.querySelector("[data-theme-toggle]");if(!t)return;const e=document.body.classList.contains("light-theme");t.setAttribute("aria-pressed",String(e));const o=e?n("toggle_to_dark")||"Увімкнути темну тему":n("toggle_to_light")||"Увімкнути світлу тему";t.setAttribute("aria-label",o),t.setAttribute("title",o)}catch{}}function Ht(){const t=document.querySelector("#ai-hub .panel--log");if(!t)return{};const e=t.querySelector(".panel__body"),o=t.querySelector(".event-log"),i=t.querySelector("[data-log-toolbar]");return{panel:t,body:e,list:o,toolbar:i}}function je(){const{panel:t}=Ht();if(!t||t.querySelector("[data-log-toolbar]"))return;const e=t.querySelector(".panel__body");if(!e)return;const o=document.createElement("div");o.className="log-toolbar",o.setAttribute("data-log-toolbar",""),o.innerHTML=`
    <div class="log-controls">
      <button type="button" class="dock-btn" data-log-clear title="Очистити журнал">Очистити</button>
    </div>
  `,e.prepend(o),o.addEventListener("click",i=>{i.target.matches("[data-log-clear]")&&ke()})}function Fe(t){const{list:e,body:o}=Ht();if(!e)return;const i=document.createElement("li");i.className="log-item lvl-"+(t.level||"info"),i.dataset.level=t.level||"info";const a=new Date(t.time),l=String(a.getHours()).padStart(2,"0"),s=String(a.getMinutes()).padStart(2,"0"),d=String(a.getSeconds()).padStart(2,"0"),c=`${l}:${s}:${d}`,f=t.meta?` <span class="mono small" style="opacity:.75">${Ct(JSON.stringify(t.meta))}</span>`:"";i.innerHTML=`[${c}] <strong>${Ct((t.level||"info").toUpperCase())}</strong> — ${Ct(t.msg)}${f}`,e.appendChild(i),o&&(o.scrollTop=o.scrollHeight)}function z(t,e,o){const i={time:Date.now(),level:t||"info",msg:String(e||""),meta:o};Fe(i)}function ke(){const{list:t}=Ht();t&&(t.innerHTML=""),z("info","Журнал очищено")}function Re(){je(),z("info","AI Hub: журнал активовано")}function Ct(t){return String(t||"").replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}function It(t){try{if(!t||typeof t!="object")return;window.__LAST_SITE_PROFILE=t;const e=document.querySelector("[data-info-blocks]");if(!e)return;let o=e.querySelector("[data-site-profile]");const i=JSON.stringify(t);if(o&&o.dataset.hash===i){const c=o.querySelector("[data-site-profile-meta]");c&&(c.textContent=`${n("sp_updated")} `+ne(new Date));return}o||(o=document.createElement("article"),o.className="info-block",o.setAttribute("data-block",""),o.setAttribute("data-site-profile",""),o.innerHTML=`
        <header class="info-block__head">
          <h4 class="info-block__title">${n("ib_site_profile")}</h4>
          <button class="info-block__toggle" aria-expanded="true" aria-label="${n("collapse_section")}" type="button">−</button>
        </header>
        <div class="info-block__body site-prof">
          <div class="site-prof__row" data-prof-what>
            <div class="site-prof__label">${n("sp_label_what")}</div>
            <div class="site-prof__value" data-prof-what-val></div>
          </div>
          <div class="site-prof__row" data-prof-how>
            <div class="site-prof__label">${n("sp_label_how")}</div>
            <div class="site-prof__value" data-prof-how-val></div>
          </div>
          <div class="site-prof__row" data-prof-why>
            <div class="site-prof__label">${n("sp_label_why")}</div>
            <div class="site-prof__value" data-prof-why-val></div>
          </div>
          <p class="mono small site-prof__meta" data-site-profile-meta></p>
        </div>`,e.prepend(o)),o.dataset.hash=i;const a=o.querySelector("[data-prof-what-val]"),l=o.querySelector("[data-prof-how-val]"),s=o.querySelector("[data-prof-why-val]"),d=o.querySelector("[data-site-profile-meta]");try{const c=o.querySelector(".info-block__title");c&&(c.textContent=n("ib_site_profile"));const f=o.querySelector(".info-block__toggle");f&&f.setAttribute("aria-label",n("collapse_section"));const g=o.querySelector("[data-prof-what] .site-prof__label"),m=o.querySelector("[data-prof-how] .site-prof__label"),p=o.querySelector("[data-prof-why] .site-prof__label");g&&(g.textContent=n("sp_label_what")),m&&(m.textContent=n("sp_label_how")),p&&(p.textContent=n("sp_label_why"))}catch{}if(a&&(a.innerHTML=`<p class="site-prof__text">${at(t.what||"—")}</p>`),l){const c=Array.isArray(t.how)?t.how:[];l.innerHTML=c.length?`<ul class="site-prof__list mono">${c.map(f=>`<li class="site-prof__list-item">${at(f)}</li>`).join("")}</ul>`:'<p class="site-prof__text">—</p>'}s&&(s.innerHTML=`<p class="site-prof__text">${at(t.why||"—")}</p>`),d&&(d.textContent=`${n("sp_updated")} `+ne(new Date))}catch(e){console.warn("[siteProfile] render error",e)}}let nt=null;function Tt(t){const e=De();nt=e;const o=e.querySelector("[data-sp-what-body]"),i=e.querySelector("[data-sp-how-body]"),a=e.querySelector("[data-sp-why-body]"),l=e.querySelector("[data-sp-meta]");if(o&&(o.innerHTML=`<p>${at(t.what||"—")}</p>`),i){const c=Array.isArray(t.how)?t.how:[];i.innerHTML=`<div class="sp-chips">${c.map(f=>`<span class="sp-chip">${at(f)}</span>`).join("")}</div>`}a&&(a.innerHTML=`<p>${at(t.why||"—")}</p>`);const s=I()==="uk"?"uk-UA":"en-US";l&&(l.textContent=`${n("sp_generated")} `+new Date().toLocaleTimeString(s,{hour:"2-digit",minute:"2-digit"})),e.classList.remove("hidden"),requestAnimationFrame(()=>e.classList.add("is-open")),(e.querySelectorAll('button, [href], [tabindex]:not([tabindex="-1"])')[0]||e).focus(),e.__tabTrapWired||(e.addEventListener("keydown",c=>{if(c.key==="Tab"){const f=Array.from(e.querySelectorAll('button, [href], [tabindex]:not([tabindex="-1"])')).filter(p=>!p.disabled);if(!f.length)return;const g=f[0],m=f[f.length-1];c.shiftKey&&document.activeElement===g?(c.preventDefault(),m.focus()):!c.shiftKey&&document.activeElement===m&&(c.preventDefault(),g.focus())}}),e.__tabTrapWired=!0)}function qt(){nt&&(nt.classList.remove("is-open"),setTimeout(()=>{nt?.classList.add("hidden"),nt=null},160))}function De(){let t=document.querySelector("#site-profile-modal");return t||(t=document.createElement("div"),t.id="site-profile-modal",t.className="sp-modal hidden",t.innerHTML=`
<div class="sp-modal__backdrop" data-sp-close></div>
  <div class="sp-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="sp-modal-title">
    <div class="sp-modal__glow" aria-hidden="true"></div>
    <header class="sp-modal__head">
      <div class="sp-badge" aria-hidden="true">AI</div>
      <h3 id="sp-modal-title" class="sp-modal__title">${n("sp_modal_title")}</h3>
      <button class="sp-modal__close" type="button" aria-label="${n("sp_close")}" data-sp-close>✕</button>
    </header>
    <div class="sp-modal__content">
      <section class="sp-section" data-sp-what>
        <h4 class="sp-sec__title"><span class="sp-sec__icon" aria-hidden="true">🎯</span><span>${n("sp_label_what")}</span></h4>
        <div class="sp-sec__body" data-sp-what-body></div>
      </section>
      <section class="sp-section" data-sp-how>
        <h4 class="sp-sec__title"><span class="sp-sec__icon" aria-hidden="true">🛠️</span><span>${n("sp_label_how")}</span></h4>
        <div class="sp-sec__body" data-sp-how-body></div>
      </section>
      <section class="sp-section" data-sp-why>
        <h4 class="sp-sec__title"><span class="sp-sec__icon" aria-hidden="true">⚡</span><span>${n("sp_label_why")}</span></h4>
        <div class="sp-sec__body" data-sp-why-body></div>
      </section>
      <footer class="sp-footer">
        <p class="sp-meta mono small" data-sp-meta></p>
        <button class="sp-pill" type="button" data-sp-close>${n("sp_footer_ok")}</button>
      </footer>
    </div>
  </div>`,document.body.appendChild(t),t.addEventListener("click",e=>{e.target&&(e.target.closest?e.target.closest("[data-sp-close]"):null)&&(e.preventDefault(),e.stopPropagation(),qt())}),document.addEventListener("keydown",e=>{nt&&e.key==="Escape"&&qt()})),t}function Ue(){const t=document.querySelector("#site-profile-modal");if(!t)return;const e=t.querySelector("#sp-modal-title");e&&(e.textContent=n("sp_modal_title"));const o=t.querySelector(".sp-modal__close");o&&o.setAttribute("aria-label",n("sp_close"));const i=t.querySelector("[data-sp-what] .sp-sec__title span:last-child"),a=t.querySelector("[data-sp-how] .sp-sec__title span:last-child"),l=t.querySelector("[data-sp-why] .sp-sec__title span:last-child");i&&(i.textContent=n("sp_label_what")),a&&(a.textContent=n("sp_label_how")),l&&(l.textContent=n("sp_label_why"));const s=t.querySelector(".sp-footer .sp-pill");s&&(s.textContent=n("sp_footer_ok"))}(function(){const e="site-profile-modal-styles";if(document.getElementById(e))return;const o=document.createElement("style");o.id=e,o.textContent='.sp-modal.hidden{display:none} .sp-modal{position:fixed;inset:0;z-index:1200;display:flex;align-items:center;justify-content:center;font-family:var(--font-sans);} .sp-modal__backdrop{position:absolute;inset:0;background:linear-gradient(120deg,rgba(12 13 16 / .78),rgba(12 13 16 / .6));backdrop-filter:blur(6px) saturate(1.25);animation:spFade .4s ease;} .sp-modal__dialog{position:relative;max-width:760px;width:clamp(330px,74vw,760px);background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-xl);box-shadow:var(--shadow),0 0 0 1px rgba(var(--accent-rgb)/.15);padding:1.25rem 1.55rem 1.55rem;transform:translateY(26px) scale(.94);opacity:0;transition:transform .55s var(--transition),opacity .5s ease;} .sp-modal.is-open .sp-modal__dialog{transform:translateY(0) scale(1);opacity:1;} .sp-modal__glow{position:absolute;inset:0;border-radius:inherit;background:linear-gradient(140deg,rgba(var(--accent-rgb)/.18),rgba(var(--accent-rgb)/0) 60%);mix-blend-mode:overlay;pointer-events:none;opacity:.9;} .sp-modal__head{display:flex;align-items:center;gap:.85rem;margin:0 0 1rem;padding:0 .05rem;} .sp-badge{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:14px;background:var(--accent);font-weight:600;font-size:.78rem;letter-spacing:.08em;color:#082b1f;box-shadow:0 4px 14px -4px rgba(var(--accent-rgb)/.55),0 0 0 1px rgba(var(--accent-rgb)/.35);} .sp-modal__title{margin:0;font-size:1.22rem;letter-spacing:.5px;font-weight:600;background:var(--gradient-text);-webkit-background-clip:text;background-clip:text;color:transparent;} .sp-modal__close{margin-left:auto;background:var(--glass);color:var(--text);border:1px solid var(--border);border-radius:var(--radius);padding:.55rem .7rem;font-size:.85rem;cursor:pointer;line-height:1;display:inline-flex;align-items:center;gap:.4rem;transition:background .3s,border-color .3s,transform .25s ease,box-shadow .4s;} .sp-modal__close:hover{background:rgba(var(--accent-rgb)/.15);border-color:rgba(var(--accent-rgb)/.45);} .sp-modal__close:focus-visible{outline:none;box-shadow:var(--focus);} .sp-modal__close:active{transform:scale(.92);} .sp-modal__content{font-size:.95rem;line-height:1.55;color:var(--text-dim);max-height:65vh;overflow:auto;padding:0 .15rem;} .sp-section{margin:0 0 1.15rem;padding:0 0 .65rem;border-bottom:1px solid rgba(255 255 255 / .06);} .sp-section:last-of-type{border-bottom:none;margin-bottom:.75rem;} .sp-sec__title{display:flex;align-items:center;gap:.55rem;margin:0 0 .45rem;font-size:.7rem;text-transform:uppercase;letter-spacing:.16em;font-weight:600;color:rgba(var(--accent-rgb)/.8);} .sp-sec__icon{font-size:.95rem;filter:drop-shadow(0 2px 6px rgba(0 0 0 /.4));} .sp-sec__body p{margin:.2rem 0 .4rem;color:var(--text);} .sp-chips{display:flex;flex-wrap:wrap;gap:.5rem;margin:.1rem 0 0;} .sp-chip{position:relative;font-size:.68rem;padding:.5rem .7rem .45rem;border-radius:999px;background:linear-gradient(145deg,rgba(var(--accent-rgb)/.25),rgba(var(--accent-rgb)/.55));color:#fff;font-weight:500;letter-spacing:.35px;line-height:1;display:inline-flex;align-items:center;gap:.35rem;animation:chipPop .55s cubic-bezier(.25,1.4,.4,1) both;box-shadow:0 2px 10px -4px rgba(var(--accent-rgb)/.55),0 0 0 1px rgba(var(--accent-rgb)/.4) inset;} .sp-chip:before{content:"";position:absolute;inset:0;border-radius:inherit;background:linear-gradient(120deg,rgba(255 255 255 / .3),rgba(255 255 255 / 0) 60%);mix-blend-mode:overlay;opacity:.75;} .sp-chip:nth-child(odd){background:linear-gradient(145deg,rgba(var(--accent-rgb)/.35),rgba(var(--accent-rgb)/.6));} @keyframes chipPop{0%{transform:scale(.5) translateY(8px);opacity:0}60%{transform:scale(1.08) translateY(-2px);}100%{transform:scale(1) translateY(0);opacity:1}} .sp-footer{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.8rem;margin:.35rem 0 0;} .sp-meta{opacity:.55;margin:0;font-size:.63rem;letter-spacing:.5px;} .sp-pill{background:var(--accent);color:#063726;font-weight:600;border:1px solid rgba(var(--accent-rgb)/.4);cursor:pointer;padding:.7rem 1.15rem .65rem;border-radius:var(--radius-lg);font-size:.72rem;letter-spacing:.1em;display:inline-flex;align-items:center;gap:.55rem;position:relative;overflow:hidden;transition:background .45s,transform .4s,filter .5s;box-shadow:0 4px 20px -6px rgba(var(--accent-rgb)/.55);} .sp-pill:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 30% 20%,rgba(255 255 255 /.55),transparent 60%);mix-blend-mode:overlay;opacity:.55;} .sp-pill:hover{filter:brightness(1.08);} .sp-pill:focus-visible{outline:none;box-shadow:var(--focus);} .sp-pill:active{transform:translateY(2px);} @keyframes spFade{from{opacity:0}to{opacity:1}} @media (max-width:640px){ .sp-modal__dialog{width:92vw;padding:1.05rem 1.05rem 1.2rem;} .sp-sec__title{font-size:.66rem;} .sp-chip{font-size:.6rem;padding:.45rem .6rem .4rem;} } @media (prefers-reduced-motion: reduce){ .sp-modal__dialog, .sp-chip, .sp-modal__backdrop{animation:none!important;transition:none!important;} }',document.head.appendChild(o)})();function ne(t){const e=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${e}:${o}`}function at(t){return String(t||"").replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}window.addOrUpdateSiteProfileBlock=It;window.openSiteProfileModal=Tt;window.closeSiteProfileModal=qt;window.refreshSiteProfileModalTexts=Ue;function it(t={}){try{const o=(typeof getUserProfile=="function"?getUserProfile():null)?.contacts?.email||"wwoollwweell@gmail.com",i=document.querySelector("[data-info-blocks]");if(!i)return;let a=i.querySelector("[data-contact-form]");const l=JSON.stringify({toEmail:o,purpose:t.purpose||""});let s=!1;a||(a=document.createElement("article"),a.className="info-block",a.setAttribute("data-block",""),a.setAttribute("data-contact-form",""),a.innerHTML=`
        <header class="info-block__head">
          <h4 class="info-block__title">${n("contact_form_title")}</h4>
          <button class="info-block__toggle" aria-expanded="true" aria-label="${n("collapse_section")}" type="button">−</button>
        </header>
        <div class="info-block__body">
          <form class="contact-form" data-contact-form-el novalidate>
            <div class="cf-row">
              <label class="cf-label" for="cf-name">${n("cf_label_name")}</label>
              <input class="cf-input" id="cf-name" name="name" autocomplete="name" placeholder="${n("cf_placeholder_name")}" />
            </div>
            <div class="cf-row">
              <label class="cf-label" for="cf-email">${n("cf_label_email")}</label>
              <input class="cf-input" id="cf-email" name="email" type="email" autocomplete="email" placeholder="${n("cf_placeholder_email")}" required />
            </div>
            <div class="cf-row">
              <label class="cf-label" for="cf-message">${n("cf_label_message")}</label>
              <textarea class="cf-textarea" id="cf-message" name="message" rows="4" placeholder="${n("cf_placeholder_message")}" required></textarea>
            </div>
            <div class="cf-actions">
              <button type="submit" class="dock-btn primary">${n("cf_submit")}</button>
              <span class="cf-status mono small" aria-live="polite"></span>
            </div>
            <p class="mono small" style="opacity:.7">${n("cf_or_email")} <a href="mailto:${encodeURIComponent(o)}">${ut(o)}</a></p>
          </form>
        </div>`,i.prepend(a),s=!0),a.dataset.hash=l;try{const c=a.querySelector(".info-block__title");c&&(c.textContent=n("contact_form_title"));const f=a.querySelector(".info-block__toggle");f&&f.setAttribute("aria-label",n("collapse_section"));const g=a.querySelector('label[for="cf-name"]');g&&(g.textContent=n("cf_label_name"));const m=a.querySelector("#cf-name");m&&m.setAttribute("placeholder",n("cf_placeholder_name"));const p=a.querySelector('label[for="cf-email"]');p&&(p.textContent=n("cf_label_email"));const S=a.querySelector("#cf-email");S&&S.setAttribute("placeholder",n("cf_placeholder_email"));const A=a.querySelector('label[for="cf-message"]');A&&(A.textContent=n("cf_label_message"));const L=a.querySelector("#cf-message");L&&L.setAttribute("placeholder",n("cf_placeholder_message"));const v=a.querySelector('button[type="submit"]');v&&(v.textContent=n("cf_submit"));const E=a.querySelector(".info-block__body p.mono.small");E&&E.firstChild&&(E.firstChild.textContent=n("cf_or_email")+" ")}catch{}const d=a.querySelector("[data-contact-form-el]");if(d){const c=d.querySelector("#cf-message");c&&t.purpose&&!c.value&&(c.value=t.purpose),d.__wired||(d.addEventListener("submit",f=>{f.preventDefault();const g=d.querySelector(".cf-status"),m=(d.querySelector("#cf-name")?.value||"").trim(),p=(d.querySelector("#cf-email")?.value||"").trim(),S=(d.querySelector("#cf-message")?.value||"").trim(),A=[];if((!p||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p))&&A.push(n("cf_err_invalid_email")),S||A.push(n("cf_err_empty_message")),A.length){g&&(g.textContent=A.join(" • "));return}const L=encodeURIComponent(`${I()==="uk"?"Запит з портфоліо":"Portfolio inquiry"}${m?" — "+m:""}`),v=[m?`${I()==="uk"?"Ім'я":"Name"}: ${m}`:null,`Email: ${p}`,"",S].filter(Boolean),E=encodeURIComponent(v.join(`
`)),P=`mailto:${o}?subject=${L}&body=${E}`;g&&(g.textContent=n("cf_opening_mail")),window.location.href=P,typeof window.__pushChatMessage=="function"&&window.__pushChatMessage("bot",`${ut(n("cf_prepared_prefix"))} <a href="mailto:${ut(o)}">${ut(o)}</a>.`)}),d.__wired=!0)}if(t.scroll!==!1)try{const c=a;requestAnimationFrame(()=>c.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))}catch{}}catch(e){console.warn("[contactForm] render error",e)}}function Ae(){let t=document.querySelector("[data-contact-form]");if(t||(it({purpose:"",scroll:!0}),t=document.querySelector("[data-contact-form]")),t){t.style.display="";try{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch{}}}function ve(){const t=document.querySelector("[data-contact-form]");t&&(t.style.display="none")}function Le(){let t=document.querySelector("[data-contact-form]");if(t||(it({purpose:"",scroll:!0}),t=document.querySelector("[data-contact-form]")),!t)return;const e=t.style.display==="none";if(t.style.display=e?"":"none",e)try{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}catch{}}function ut(t){return String(t||"").replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}window.addOrUpdateContactFormBlock=it;const Be="welcome-modal";let q=null;function Ce(){return q||(q=document.createElement("div"),q.id=Be,q.className="welcome-modal hidden",q.innerHTML=`
<div class="welcome-modal__backdrop" data-welcome-close></div>
<div class="welcome-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="welcome-title">
  <header class="welcome-modal__header">
    <div class="welcome-modal__badge" aria-hidden="true">AI</div>
    <h3 id="welcome-title" class="welcome-modal__title">Вітаю!</h3>
    <button class="welcome-modal__close" type="button" data-welcome-close aria-label="Закрити">✕</button>
  </header>
  <div class="welcome-modal__content">
  <p>Це інтерактивний сайт Артема Подоби, де через запити до нейромережі можна керувати блоками сторінки, відкривати форми й отримувати пояснення про проєкти.</p>
    <ul class="welcome-modal__list">
      <li><strong>AI Console</strong>: приймає команди, відкриває панелі, відповідає на питання.</li>
      <li><strong>AI Hub</strong>: показує живий вивід, стек, командний список та журнал дій.</li>
      <li><strong>Проекти</strong>: фільтрація за технологіями, запити через /projects.</li>
      <li><strong>Контакти</strong>: контактна форма відкривається на вимогу прямо в AI Hub.</li>
    </ul>
    <p>Щоб швидко побачити ці можливості, натисніть кнопку нижче або використайте команду <code>/help</code> у консолі.</p>
  </div>
  <footer class="welcome-modal__footer">
    <button class="welcome-modal__cta" type="button" data-welcome-close>Зрозуміло, перейти до сайту</button>
  </footer>
</div>`,document.body.appendChild(q),q.addEventListener("click",t=>{t.target.closest("[data-welcome-close]")&&(t.preventDefault(),ae())}),document.addEventListener("keydown",t=>{q&&!q.classList.contains("hidden")&&t.key==="Escape"&&ae()}),q)}function xe(){const t=Ce();t.classList.remove("hidden"),requestAnimationFrame(()=>t.classList.add("is-open")),t.querySelector(".welcome-modal__dialog")?.querySelector("[data-welcome-close]")?.focus({preventScroll:!0})}function ae(){q&&(q.classList.remove("is-open"),setTimeout(()=>{q?.classList.add("hidden")},180))}function Ke(){Ce()}window.openWelcomeModal=xe;const T={API_KEY:"AIzaSyCf3zK65RYzenmUyVKw7klTH_JaZq7Jn0E",PROVIDER:"auto",OPENAI_MODEL:"gpt-4o-mini",OPENROUTER_MODEL:"openai/gpt-4o-mini",GEMINI_MODEL:"gemini-2.0-flash",OPENAI_ENDPOINT:"https://api.openai.com/v1/chat/completions",OPENROUTER_ENDPOINT:"https://openrouter.ai/api/v1/chat/completions",GEMINI_ENDPOINT_BASE:"https://generativelanguage.googleapis.com/v1beta/models",TIMEOUT_MS:2e4,MAX_TOKENS_DEFAULT:400,MAX_TOKENS_LONG:500,HISTORY_MAX_MESSAGES:12,HISTORY_MAX_CHARS:4e3};function ze(t){return["openai","openrouter","gemini"].includes(T.PROVIDER)?T.PROVIDER:typeof t!="string"?"openai":t.startsWith("sk-or-")?"openrouter":t.startsWith("AIza")?"gemini":"openai"}function Ee(){const t=typeof window<"u"?window:{};return(t.__AI_KEY||t.__OPENAI_KEY||t.__OPENROUTER_KEY||t.__GEMINI_KEY||(typeof localStorage<"u"?localStorage.getItem("AI_KEY"):"")||T.API_KEY).trim()}function We(t){if(typeof t!="string"||!t.trim())return!1;const e=t.trim();if(typeof window<"u"){window.__AI_KEY=e;try{localStorage.setItem("AI_KEY",e)}catch{}}return!0}function Ge(){return Ee()}function Ye(){const t=Ee();if(!t)throw new Error(n("err_no_api_key")||'Немає API ключа. Використай /setkey <ключ> або window.__AI_KEY = "sk-..."');return t}function Ve(t,e,o,i,a,l){const s=t==="openrouter",d=s?T.OPENROUTER_ENDPOINT:T.OPENAI_ENDPOINT,c=s?T.OPENROUTER_MODEL:T.OPENAI_MODEL,f={"Content-Type":"application/json",Authorization:`Bearer ${e}`};if(s){const p=location.origin&&location.origin!=="null"?location.origin:"http://localhost";f["HTTP-Referer"]=p;const S=A=>String(A||"").replace(/[^\x20-\x7E]/g,"").slice(0,120);f["X-Title"]=S(document.title)||"App"}const g=[{role:"system",content:o||"You are a helpful assistant."}];if(Array.isArray(l)&&l.length)for(const p of l)!p||!p.role||!p.content||g.push({role:p.role==="assistant"?"assistant":"user",content:String(p.content).slice(0,1500)});g.push({role:"user",content:i});const m={model:c,messages:g,temperature:.4,max_tokens:Math.min(Math.max(50,a||T.MAX_TOKENS_DEFAULT),4096)};return{endpoint:d,headers:f,body:m}}async function Je(t,{system:e="You are a helpful assistant.",maxTokens:o,history:i=[]}={}){const a=Ye(),l=ze(a),s=new AbortController,d=setTimeout(()=>s.abort(),T.TIMEOUT_MS);try{if(l==="gemini"){let c="";if(Array.isArray(i)&&i.length){const g=i.slice(-T.HISTORY_MAX_MESSAGES),m=[];let p=0;for(const S of g){const A=S.role==="assistant"?"AI":"Користувач";let L=String(S.content||"").replace(/\s+/g," ").trim();if(L){if(L=L.slice(0,500),p+=L.length,p>T.HISTORY_MAX_CHARS)break;m.push(`${A}: ${L}`)}}m.length&&(c=`Контекст попереднього діалогу:
${m.join(`
`)}
---
`)}const f=c+t;return await Xe(a,e,f,s.signal,o)}else{const{endpoint:c,headers:f,body:g}=Ve(l,a,e,t,o,i),m=await fetch(c,{method:"POST",headers:f,body:JSON.stringify(g),signal:s.signal});if(!m.ok){const A=await Ie(m);let L="";throw(m.status===401||m.status===403)&&(L=" Перевір правильність ключа та відповідність провайдера (OpenAI vs OpenRouter)."),new Error(`HTTP ${m.status}: ${A||m.statusText}.${L}`)}const S=(await m.json())?.choices?.[0]?.message?.content?.trim?.();if(!S)throw new Error("Відповідь порожня або у неочікуваному форматі.");return S}}finally{clearTimeout(d)}}async function Ie(t){try{return(await t.text())?.slice?.(0,2e3)||""}catch{return""}}async function Xe(t,e,o,i,a){const l=e?`${e}

${o}`:o,s=`${T.GEMINI_ENDPOINT_BASE}/${T.GEMINI_MODEL}:generateContent?key=${encodeURIComponent(t)}`,d={contents:[{parts:[{text:l}]}],generationConfig:{maxOutputTokens:Math.min(Math.max(50,a||T.MAX_TOKENS_DEFAULT),2048)}},c=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),signal:i});if(!c.ok){const m=await Ie(c);let p="";throw(c.status===401||c.status===403)&&(p=" (Gemini: перевір обмеження ключа)"),new Error(`Gemini HTTP ${c.status}: ${m||c.statusText}${p}`)}const g=(await c.json())?.candidates?.[0]?.content?.parts?.map(m=>m.text).join(`
`).trim();if(!g)throw new Error("Gemini: порожня відповідь або формат змінився.");return g}let _t=null;async function Qe(t="./src/profile.json"){if(_t)return _t;try{const e=await fetch(t,{cache:"no-cache"});if(!e.ok)throw new Error("HTTP "+e.status);const o=await e.json();return _t=o,window.__USER_PROFILE=o,Ze(o),o}catch(e){return console.warn("[profile] Не вдалося завантажити профіль:",e),null}}function dt(){return _t||window.__USER_PROFILE||null}function Ze(t){if(!t)return;const e=typeof I=="function"?I():"uk",o=document.querySelector(".brand__text");o&&t.name&&!o.hasAttribute("data-i18n")&&(o.textContent=t.name);const i=document.querySelector(".hero__subtitle");i&&t.role&&(e==="uk"?i.textContent=`${t.role} з ${t.location||"..."}. ${t.tagline||""}`.trim():typeof n=="function"&&(i.textContent=n("hero_subtitle")));const a=document.querySelector("[data-info-blocks] .info-block:nth-child(1) .info-block__body p");if(a&&(e==="uk"?a.textContent=`Я — ${t.name}, ${t.role}${t.location?" ("+t.location+")":""}. ${t.tagline||""}`.trim():typeof n=="function"&&(a.textContent=n("ib_about_p1"))),t.email||t?.contacts?.email){const l=t.email||t.contacts.email;document.querySelectorAll('a[data-social="email"]').forEach(s=>{s.setAttribute("href",`mailto:${l}`)})}if(t.contacts){const l={github:s=>s?`https://github.com/${to(s)}`:null,telegram:s=>s?s.startsWith("http")?s:`https://t.me/${xt(s)}`:null,linkedin:s=>s?s.startsWith("http")?s:`https://www.linkedin.com/in/${ie(s)}`:null,twitter:s=>s?s.startsWith("http")?s:`https://twitter.com/${xt(s)}`:null,website:s=>s&&s.startsWith("http")?s:null,devto:s=>s?s.startsWith("http")?s:`https://dev.to/${ie(s)}`:null,medium:s=>s?s.startsWith("http")?s:`https://medium.com/@${xt(s)}`:null,phone:s=>s?`tel:${s.replace(/\s+/g,"")}`:null};for(const[s,d]of Object.entries(t.contacts)){if(!d)continue;const c=l[s],f=c?c(d):null;f&&document.querySelectorAll(`a[data-social="${s}"]`).forEach(g=>{g.setAttribute("href",f),s==="phone"&&(g.textContent=d)})}}}function xt(t){return String(t).replace(/^@/,"")}function ie(t){return String(t).replace(/\/$/,"")}function to(t){if(/github\.com\//i.test(t)){const e=t.match(/github\.com\/(.+?)(?:$|\/)/i);return e?e[1]:t}return String(t).replace(/^[\/@]/,"")}const jt={frontend:["HTML","CSS","JavaScript","TypeScript","React"],backend:["Node.js"],performance:["Оптимізація білду","Кешування","Lighthouse аналіз"],ai:["LLM інтеграції","Prompt design","Обробка контексту"],tooling:["CI/CD","Git flow","Автоматизація"],learning:["GraphQL production patterns","Edge / CDN оптимізація","Advanced Prompting"]},mt={uk:{frontend:"Фронтенд",backend:"Бекенд",performance:"Продуктивність",ai:"AI",tooling:"Інструменти",learning:"Навчання"},en:{frontend:"Frontend",backend:"Backend",performance:"Performance",ai:"AI",tooling:"Tooling",learning:"Learning"}},se={uk:{"Оптимізація білду":"Оптимізація білду",Кешування:"Кешування","Lighthouse аналіз":"Lighthouse аналіз","LLM інтеграції":"LLM інтеграції","Обробка контексту":"Обробка контексту",Автоматизація:"Автоматизація","Edge / CDN оптимізація":"Edge / CDN оптимізація"},en:{"Оптимізація білду":"Build optimization",Кешування:"Caching","Lighthouse аналіз":"Lighthouse analysis","LLM інтеграції":"LLM integrations","Обробка контексту":"Context processing",Автоматизація:"Automation","Edge / CDN оптимізація":"Edge/CDN optimization"}},re={uk:{HTML:"Семантична розмітка й структурні патерни для доступності",CSS:"Адаптивні layout-и, performance-first, сучасні фічі (grid/flex)",JavaScript:"ESNext підхід, модульність, чиста архітектура клієнта",TypeScript:"Типобезпека, контрактний дизайн, зниження runtime багів",React:"Компонентна архітектура, hooks, оптимізація ререндерів","Node.js":"Легкі API, стріми, оптимізація cold start / build","Оптимізація білду":"Code splitting, мінімізація, tree-shaking стратегія",Кешування:"HTTP/Edge кеш шари для швидшого TTFB","Lighthouse аналіз":"Цільові метрики + actionable refactor чеклісти","LLM інтеграції":"Інкапсуляція викликів, токен економія, fallback логіка","Prompt design":"Структуровані промпти, контроль тону та контексту","Обробка контексту":"Chunking, релевантність, динамічне вікно пам’яті","CI/CD":"Автоматизація збірок, тестів та релізних артефактів","Git flow":"Упорядковані релізні гілки й релізні теги",Автоматизація:"Скрипти скорочують ручні кроки дев процесу","GraphQL production patterns":"Схеми, кешування, перформанс @scale","Edge / CDN оптимізація":"Зменшення latency через edge комп’ютинг","Advanced Prompting":"Рольові патерни, self-refine, валідація відповідей"},en:{HTML:"Semantic markup and structure for accessibility",CSS:"Responsive layouts, performance-first, modern features (grid/flex)",JavaScript:"ESNext approach, modularity, clean client architecture",TypeScript:"Type safety, contract-driven design, fewer runtime bugs",React:"Component architecture, hooks, render optimization","Node.js":"Lightweight APIs, streams, cold-start/build optimization","Оптимізація білду":"Code splitting, minification, tree-shaking strategy",Кешування:"HTTP/Edge cache layers for faster TTFB","Lighthouse аналіз":"Targeted metrics + actionable refactor checklists","LLM інтеграції":"Call encapsulation, token efficiency, fallback logic","Prompt design":"Structured prompts, tone and context control","Обробка контексту":"Chunking, relevance, dynamic memory window","CI/CD":"Automated builds, tests and release artifacts","Git flow":"Structured release branches and tags",Автоматизація:"Scripts reduce manual dev steps","GraphQL production patterns":"Schemas, caching, performance at scale","Edge / CDN оптимізація":"Lower latency via edge computing","Advanced Prompting":"Role patterns, self-refine, answer validation"}};function eo(){return[...new Set(Object.values(jt).flat())]}const u={form:document.querySelector("#chat-form"),input:document.querySelector("[data-input]"),log:document.querySelector("[data-chat-log] .chat-thread"),suggestions:document.querySelector("[data-suggestions]"),hint:document.querySelector("[data-hint]"),openCommandsBtn:document.querySelector("[data-open-commands]"),sendBtn:document.querySelector("#chat-form .dock-btn.primary")};(!u.form||!u.input||!u.log)&&console.warn("[chat] Missing core elements.");function Ft(){if(!u.input)return;u.input.style.height="auto";const e=Math.min(u.input.scrollHeight,204);u.input.style.height=e+"px"}const X=new Map,$=(t,e)=>{X.set(t,e);try{const o=document.querySelector('[data-ai-stat="commands"]');o&&(o.textContent=String(X.size))}catch{}},oo=()=>{const t=u.log.closest(".chat-dock__scroll");requestAnimationFrame(()=>{t.scrollTop=t.scrollHeight})},$t=()=>new Date().toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"});function y({role:t,html:e,pending:o=!1}){const i=document.createElement("li");return i.className=`msg msg--${t}`+(o?" msg--pending":""),i.innerHTML=t==="bot"?`<div class="msg__decor" aria-hidden="true"></div><div class="msg__block"><header class="msg__meta"><span class="msg__author">AI</span><span class="msg__time">${o?"…":$t()}</span></header><div class="msg__content">${e}</div></div>`:`<div class="msg__block msg__block--user"><header class="msg__meta"><span class="msg__author">Ти</span><span class="msg__time">${$t()}</span></header><div class="msg__content">${e}</div></div>`,u.log.appendChild(i),oo(),i}function le(t,e){if(!t)return;t.classList.remove("msg--pending");const o=t.querySelector(".msg__time");o&&(o.textContent=$t());const i=t.querySelector(".msg__content");i&&(i.innerHTML=e)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>oe()):oe();(()=>{const t=document.querySelector("[data-theme-toggle]");t&&(t.addEventListener("click",e=>{e.stopPropagation(),gt("toggle")}),ot())})();(()=>{try{Ke()}catch{}const t=document.querySelector(".hero__link-pill");t&&t.addEventListener("click",e=>{e.preventDefault(),xe()})})();$("/help",{description:"Показати доступні команди",run(){const t=[...X.values()].filter(e=>!e.hidden).map(e=>`<code>${e.name}</code> — ${e.description}`).join("<br>");y({role:"bot",html:`<p><strong>Команди:</strong></p><p>${t}</p>`})},name:"/help"});$("/cmds",{description:"Показати/сховати Команди: /cmds show|hide|toggle",usage:"/cmds [show|hide|toggle]",run(t){const e=t.trim().toLowerCase();if(e==="hide"){he(),y({role:"bot",html:"<p>Команди приховано.</p>"});return}if(e==="toggle"){ge(),y({role:"bot",html:"<p>Команди перемкнено.</p>"});return}fe(),y({role:"bot",html:"<p>Команди показано.</p>"})},name:"/cmds"});$("/log",{description:"Керування Журналом: /log show|hide|toggle|clear",usage:"/log [show|hide|toggle|clear]",run(t){const e=t.trim().toLowerCase();if(!e||e==="show"){be(),y({role:"bot",html:"<p>Журнал показано.</p>"});return}if(e==="hide"){ye(),y({role:"bot",html:"<p>Журнал приховано.</p>"});return}if(e==="toggle"){we(),y({role:"bot",html:"<p>Журнал перемкнено.</p>"});return}if(e==="clear"){ke(),y({role:"bot",html:"<p>Журнал очищено.</p>"});return}y({role:"bot",html:"<p>Невідома дія. Приклади: <code>/log show</code>, <code>/log clear</code></p>"})},name:"/log"});$("/stack",{description:"Показати технології (секція підсвічується)",run(){bt("#stack"),y({role:"bot",html:'<p>Поточний стек (плейсхолдер):</p><ul class="mono" style="padding-left:1.1rem;margin:0;list-style:disc;opacity:.9"><li>HTML / CSS / JS / TypeScript</li><li>React / Node.js / GraphQL</li><li>AI інтеграції (LLM API)</li></ul>'})},name:"/stack"});$("/contact",{description:"Прокрутити до контактів",run(){bt("#contact"),y({role:"bot",html:'<p>Контактні канали внизу. Пиши на <a href="mailto:wwoollwweell@gmail.com">wwoollwweell@gmail.com</a>.</p>'})},name:"/contact"});$("/contactinfo",{description:"Повний список контактів (із профілю)",run(){const t=typeof dt=="function"?dt():null;if(!t){y({role:"bot",html:"<p>Профіль ще не завантажено.</p>"});return}const e=t.contacts||{},i=["email","phone","github","telegram","linkedin","twitter","website","devto","medium"].filter(a=>e[a]).map(a=>`<li><strong>${a}</strong>: ${w(e[a])}</li>`).join("");y({role:"bot",html:`<p><strong>Контакти:</strong></p><ul class="mono" style="padding-left:1.1rem;list-style:disc">${i||"<li>Немає даних</li>"}</ul>`})},name:"/contactinfo"});$("/projects",{description:"Фільтр проектів. Приклад: /projects react",usage:"/projects [тег]",run(t){const e=t.trim();bt("#projects");try{if(e)if(typeof filterAndRenderProjects=="function"){filterAndRenderProjects(e);const o=(window.__PROJECTS||[]).filter(i=>{const a=e.toLowerCase();return i.tech.some(l=>l.toLowerCase().includes(a))||i.tags&&i.tags.some(l=>l.toLowerCase().includes(a))||i.title.toLowerCase().includes(a)||(i.short||"").toLowerCase().includes(a)}).length;y({role:"bot",html:`<p>Знайдено: <strong>${o}</strong>. Фільтр: <code>${w(e)}</code></p>`})}else y({role:"bot",html:"<p>Фільтр недоступний (модуль не завантажено).</p>"});else typeof renderProjects=="function"&&renderProjects(),y({role:"bot",html:"<p>Усі проекти показано (<code>/projects react</code> для фільтру).</p>"})}catch(o){y({role:"bot",html:`<p>Помилка фільтру: <code>${w(o.message)}</code></p>`})}},name:"/projects"});$("/clear",{description:"Очистити чат (залишивши перше системне повідомлення)",run(){u.log.querySelectorAll(".msg").forEach((e,o)=>{o>0&&e.remove()}),y({role:"bot",html:"<p>Чат очищено.</p>"}),R.splice(0,R.length)},name:"/clear"});$("/history",{description:"Показати або очистити історію: /history | /history clear",usage:"/history [clear]",run(t){if(t.trim().toLowerCase()==="clear"){R.splice(0,R.length),y({role:"bot",html:"<p>Історію очищено.</p>"});return}if(!R.length){y({role:"bot",html:"<p>Історія порожня.</p>"});return}const o=R.slice(-10).map(i=>`<li><strong>${i.role}</strong>: ${w(i.content).slice(0,120)}${i.content.length>120?"…":""}</li>`).join("");y({role:"bot",html:`<p><strong>Останні (до 10):</strong></p><ul class="mono" style="padding-left:1.1rem;list-style:disc">${o}</ul><p class="mono">Очистити: <code>/history clear</code></p>`})},name:"/history"});const R=[];function ce(t,e){R.push({role:t,content:String(e||"").slice(0,1500)});const o=T?.HISTORY_MAX_MESSAGES*2;R.length>o&&R.splice(0,R.length-o)}window.__pushChatMessage=function(t,e){try{t==="bot"?y({role:"bot",html:`<p>${e}</p>`}):t==="user"&&y({role:"user",html:`<p>${e}</p>`})}catch{}};function no(t,e={}){if(!t)return"You are a helpful assistant.";const o=t.contacts||{},i=Object.entries(o).filter(([,s])=>s).map(([s,d])=>`${s}: ${d}`).join(" | "),a=Object.entries(jt).map(([s,d])=>`${s}: ${d.join(", ")}`).join(`
`),l=eo();return`Ти асистент українською.
Автор сайту: ${t.name} — ${t.role}${t.location?" ("+t.location+")":""}.
Контакти (якщо просять показати контакти користувача, віддай акуратно): ${i||"немає явно визначених"}.
Принципи: ${(t.principles||[]).join("; ")}.

МОЖЛИВОСТІ САЙТУ:
- Інтерактивна контактна форма в AI Hub (з'являється динамічно)
- Динамічний показ стеку технологій
- Інформація про сайт (What/How/Why)
- Фільтрація проектів
- Чат з AI підтримкою

Коли питають контактні дані автора – відповідь повинна містити лише релевантні канали (email, telegram, github, phone якщо доречно). Якщо запит не про контакти – не виводь контакти.
Будь стислим за замовчуванням.

КАНОНІЧНИЙ СТЕК (ігноруй списки від користувача, використовуй лише це джерело при запитах типу "покажи стек", "які технології", "stack"):
${a}

Якщо користувач просить показати / оновити стек – поверни ОКРЕМИМ першим рядком маркер: <CALL_STACK>${l.join(",")}</CALL_STACK>
Усі подальші пояснення давай вже після цього рядка окремими абзацами. Не додавай нічого в сам маркер.
Не вигадуй технологій поза цим списком. Якщо користувач просить додати інше – поясни, що воно не входить до поточного стеку.

SITE PROFILE (What / How / Why):
Якщо користувач питає про суть сайту / призначення / "про що цей сайт" / "what is this site" / "about this site" / "яка ідея" – ПЕРШИМ рядком поверни маркер:
<CALL_SITE_PROFILE>{"what":"PORTFOLIO_WITH_AI_INTEGRATIONS","how":["ACTION_1","ACTION_2","ACTION_3"],"why":"SPEED_TRANSPARENCY_AI_FLOW"}</CALL_SITE_PROFILE>
Замінюй плейсхолдери реальними фразами українською (НЕ залишай заглушки чи '...').
Пояснення чи інші абзаци – тільки після маркера. Якщо в одному запиті і стек, і опис – спочатку <CALL_STACK> рядок, другим рядком <CALL_SITE_PROFILE>.

CONTACT FORM:
На сайті є інтерактивна контактна форма в AI Hub, яка може з'являтися динамічно.
Якщо користувач просить форму для зв'язку / "контактна форма" / "заповнити форму" / "виведи форму" / "write me" / "contact form" — ПЕРШИМ рядком поверни маркер:
<CALL_CONTACT_FORM>{"purpose":"SHORT_HINT_ABOUT_PURPOSE"}</CALL_CONTACT_FORM>
де purpose — коротка підказка, що людина хоче (українською), наприклад "Хочу обговорити співпрацю".
Після маркера обов'язково напиши що форма відкрита і готова до заповнення, наприклад: "Контактну форму відкрито у блоці AI Hub вгорі. Заповни поля і натисни 'Надіслати'."

	Точковий контроль тільки форми (не всього AI Hub):
	<CALL_CONTACT_FORM_PANEL>{"action":"show|hide|toggle"}</CALL_CONTACT_FORM_PANEL>
	Використовуй коли потрібно просто показати/сховати саме блок форми, не торкаючись інших панелей.
    
	UI КОНТРОЛЬ (видимість AI Hub і Живого Виводу):
	Якщо користувач просить показати/сховати/перемкнути AI Hub — поверни ПЕРШИМ рядком один із маркерів:
	<CALL_AIHUB>{"action":"show"}</CALL_AIHUB>
	<CALL_AIHUB>{"action":"hide"}</CALL_AIHUB>
	<CALL_AIHUB>{"action":"toggle"}</CALL_AIHUB>
	Аналогічно для панелі "Живий Вивід":
	<CALL_LIVE>{"action":"show"}</CALL_LIVE>
	<CALL_LIVE>{"action":"hide"}</CALL_LIVE>
	<CALL_LIVE>{"action":"toggle"}</CALL_LIVE>
	Після такого маркера дай коротке підтвердження, що дію виконано.

	КОНТРОЛЬ ІНШИХ ПАНЕЛЕЙ (Команди / Журнал / Стек):
	Якщо потрібно керувати конкретною панеллю, поверни ПЕРШИМ рядком уніфікований маркер:
	<CALL_PANEL>{"panel":"commands","action":"show|hide|toggle"}</CALL_PANEL>
	<CALL_PANEL>{"panel":"log","action":"show|hide|toggle"}</CALL_PANEL>
	<CALL_PANEL>{"panel":"stack","action":"show|hide|toggle"}</CALL_PANEL>
	Після такого маркера додай коротке підтвердження.

	КЕРУВАННЯ ТЕМОЮ (світла/темна):
	Якщо користувач просить перемкнути або встановити тему — поверни ПЕРШИМ рядком маркер:
	<CALL_THEME>{"mode":"light|dark|toggle"}</CALL_THEME>
	Після маркера додай коротке підтвердження (наприклад: "Тему перемкнуто").
`}function de(t){if(!t)return null;const o=(typeof I=="function"?I():"uk")!=="en",a=(Array.isArray(t.principles)?t.principles:[]).map(l=>{const s=l.split(/→|->|-/)[0].trim();return o?/чист/i.test(s)?"Тримати інтерфейс чистим":/AI як/i.test(l)?"Використовувати AI як інструмент":/Ітератив|вимір/i.test(l)?"Працювати ітеративно та вимірювати зміни":s.replace(/\.$/,""):/clean/i.test(s)?"Keep the interface clean":/AI/i.test(l)?"Use AI as a tool":/iterat|measure/i.test(l)?"Iterate and measure changes":s.replace(/\.$/,"")}).filter((l,s,d)=>l&&d.indexOf(l)===s).slice(0,6);return o?{what:"Портфоліо розробника з інтегрованими AI-підходами у робочі процеси",how:a.length?a:["Тримати інтерфейс чистим","Використовувати AI як інструмент","Працювати ітеративно та вимірювати зміни"],why:"Для швидшої доставки рішень, прозорості підходів та прикладного використання AI"}:{what:"Developer portfolio with integrated AI approaches in workflows",how:a.length?a:["Keep the interface clean","Use AI as a tool","Iterate and measure changes"],why:"To deliver faster, stay transparent, and apply AI pragmatically"}}function Te(t,{long:e=!1}={}){try{const d=document.querySelector('[data-ai-stat="sessions"]');if(d){const c=parseInt(d.textContent||"0",10)||0;d.textContent=String(c+1)}}catch{}const o=y({role:"bot",html:"<p>Запит до моделі…</p>",pending:!0}),i=typeof dt=="function"?dt():null,a=no(i,{}),l=e?window.AI_MAX_TOKENS_LONG||T?.MAX_TOKENS_LONG:T?.MAX_TOKENS_DEFAULT;ce("user",t);const s=Date.now();return z("info","AI: запит",{long:e,maxTokens:l}),Je(t,{system:a,maxTokens:l,history:R}).then(d=>{const c=Date.now()-s;function f(r){if(!r||typeof r!="string"||/[a-zа-яёіїєґ]/.test(r))return r;let h=r.replace(/_/g," ").toLowerCase();const b=new Set(["AI","UI","UX","API","HTTP","CSS","HTML","ШІ"]);h=h.split(/\s+/).map(C=>{const N=C.toUpperCase();return b.has(N)?N:C.charAt(0).toUpperCase()+C.slice(1)}).join(" "),h=h.replace(/З Ai/gi,"з AI");const M=["і","та","й","з","у","в","на","до","таким","як"];return h=h.split(/\s+/).map((C,N)=>N===0?C:M.includes(C.toLowerCase())?C.toLowerCase():C).join(" "),h}function g(r){return r&&(r.what&&(r.what=f(r.what)),r.why&&(r.why=f(r.why)),Array.isArray(r.how)&&(r.how=r.how.map(f)),r)}function m(r){if(!r)return r;try{const h=typeof I=="function"?I():"uk",b=de(i);if(!b)return r;const M=j=>/[\u0400-\u04FF]/.test(j||""),C=j=>/[A-Za-z]/.test(j||""),N=j=>{if(!Array.isArray(r.how))return Array.isArray(b.how)?[...b.how]:r.how;const rt=Array.isArray(b.how)?b.how:[];return r.how.map((Z,lt)=>j(Z)?Z:rt[lt]||rt[0]||Z)};h==="uk"?(r.what&&!M(r.what)&&b.what&&(r.what=b.what),r.why&&!M(r.why)&&b.why&&(r.why=b.why),r.how=N(M)):(r.what&&!C(r.what)&&b.what&&(r.what=b.what),r.why&&!C(r.why)&&b.why&&(r.why=b.why),r.how=N(C))}catch(h){console.warn("[siteProfile] locale adjust fail",h)}return r}let p=d,S=null,A=!1,L=!1,v=[];S=d.match(/<CALL_STACK>(.+?)<\/CALL_STACK>/),S&&(p=p.replace(S[0],"").trim());const E=p.match(/<CALL_SITE_PROFILE>([\s\S]+?)<\/CALL_SITE_PROFILE>/);if(E){let r=E[1].trim(),h=null;try{h=JSON.parse(r)}catch(b){console.warn("[siteProfile] JSON parse fail",b,r)}h&&h.what&&h.why&&(h=m(g(h)),It(h),Tt(h),A=!0,v.push("site-profile")),p=p.replace(E[0],"").trim()}const P=p.match(/<CALL_CONTACT_FORM>([\s\S]+?)<\/CALL_CONTACT_FORM>/);if(P){let r=P[1].trim(),h=null;try{h=JSON.parse(r)}catch(b){console.warn("[contactForm] JSON parse fail",b,r)}it({purpose:h?.purpose}),L=!0,v.push("contact-form"),p=p.replace(P[0],"").trim()}const H=p.match(/<CALL_CONTACT_FORM_PANEL>([\s\S]+?)<\/CALL_CONTACT_FORM_PANEL>/);if(H){try{const h=(JSON.parse(H[1].trim()).action||"toggle").toLowerCase();h==="show"?Ae():h==="hide"?ve():Le(),v.push("contactForm:"+h)}catch(r){console.warn("[ui] contact form panel JSON parse fail",r,H[1])}p=p.replace(H[0],"").trim()}const O=p.match(/<CALL_AIHUB>([\s\S]+?)<\/CALL_AIHUB>/);if(O){try{const r=JSON.parse(O[1].trim());r.action==="show"?Pe():r.action==="hide"?Oe():Me(),v.push("aihub:"+r.action),v.push("aihub:"+r.action)}catch(r){console.warn("[ui] aihub JSON parse fail",r,O[1])}p=p.replace(O[0],"").trim()}const D=p.match(/<CALL_LIVE>([\s\S]+?)<\/CALL_LIVE>/);if(D){try{const r=JSON.parse(D[1].trim());r.action==="show"?Zt():r.action==="hide"?te():ee(),v.push("live:"+r.action),v.push("live:"+r.action)}catch(r){console.warn("[ui] live JSON parse fail",r,D[1])}p=p.replace(D[0],"").trim()}const x=p.match(/<CALL_PANEL>([\s\S]+?)<\/CALL_PANEL>/);if(x){try{const r=JSON.parse(x[1].trim()),h=(r.action||"toggle").toLowerCase(),b=(r.panel||"").toLowerCase(),M=(C,N,j)=>{h==="show"?C():h==="hide"?N():j()};if(b==="live")M(Zt,te,ee);else if(b==="commands"||b==="cmds")M(fe,he,ge);else if(b==="log"||b==="logs")M(be,ye,we);else if(b==="stack"){const C=document.querySelector("#ai-hub [data-stack-panel]");C&&(h==="show"?C.style.display="":h==="hide"?C.style.display="none":C.style.display=C.style.display==="none"?"":"none")}v.push("panel:"+b+":"+h),v.push("panel:"+r.panel+":"+h)}catch(r){console.warn("[ui] panel JSON parse fail",r,x[1])}p=p.replace(x[0],"").trim()}const U=p.match(/<CALL_THEME>([\s\S]+?)<\/CALL_THEME>/);if(U){try{const h=(JSON.parse(U[1].trim()).mode||"toggle").toLowerCase();gt(h),v.push("theme:"+h)}catch(r){console.warn("[ui] theme JSON parse fail",r,U[1])}p=p.replace(U[0],"").trim()}if(!A&&/про що цей сайт|what is this site|about this site|яка ідея|site profile|призначення сайту/i.test(t)){const h=de(i);h&&(It(g(h)),Tt(g(h)),A=!0,v.push("fallback:site-profile"))}L||/форма|контактна форма|заповнити форму|виведи форму|form to fill|contact form|написати тобі|зв'язатися/i.test(t)&&(it({purpose:""}),L=!0,v.push("fallback:contact-form")),p.trim()||(L?p=typeof n=="function"?n("form_opened"):"Form opened.":A?p=typeof n=="function"?n("sp_opened_msg"):"Site info opened in a modal.":p=typeof n=="function"?n("msg_action_done"):"Done.");let B;return p?B=w(p).trim().split(/\n{2,}/).map(b=>b.replace(/\n/g,"<br>")).map(b=>`<p>${b}</p>`).join(""):B=`<p><em>${w(n("msg_action_done")||"Виконано.")}</em></p>`,le(o,B),ce("assistant",d),z("info","AI: відповідь",{tookMs:c,actions:v.join(",")}),d}).catch(d=>{throw le(o,`<p>${w(n("err_error")||"Помилка")}: <code>${w(d.message)}</code></p><p class="mono">${w(n("err_set_key_hint")||"Встанови ключ командою /setkey <ключ>. Довгі відповіді: /ai-long")}</p>`),z("error","LLM: помилка",{error:d?.message}),d})}$("/theme",{description:"Керує темою: /theme [light|dark|toggle]",usage:"/theme [light|dark|toggle] (за замовчуванням toggle)",run(t){const e=(t||"").trim().toLowerCase()||"toggle",o=gt(e);y(o==="light"?{role:"bot",html:`<p>☀️ <strong>${w(n("theme_light")||"Світла тема")}</strong> ${w(n("theme_activated")||"активована")}. ${w(n("theme_saved")||"Збережено в браузері.")}</p>`}:{role:"bot",html:`<p>🌙 <strong>${w(n("theme_dark")||"Темна тема")}</strong> ${w(n("theme_activated")||"активована")}. ${w(n("theme_saved")||"Збережено в браузері.")}</p>`})},name:"/theme"});$("/ai-long",{description:"Запит із довшою відповіддю (більше токенів)",usage:"/ai-long [prompt]",run(t){const e=t.trim();if(!e){y({role:"bot",html:`<p>${w(n("ex_ai_long")||"Приклад: /ai-long детальний конспект про WebSockets")}</p>`});return}Te(e,{long:!0})},name:"/ai-long"});$("/form",{description:"Керування контактною формою: /form [show|hide|toggle]",usage:"/form [show|hide|toggle]",run(t){const e=(t||"").trim().toLowerCase();if(it({purpose:""}),e==="hide"){ve(),y({role:"bot",html:`<p>${w(n("form_hidden")||"Форму приховано.")}</p>`});return}if(e==="toggle"){Le(),y({role:"bot",html:`<p>${w(n("form_toggled")||"Форму перемкнено.")}</p>`});return}Ae(),bt("#ai-hub"),y({role:"bot",html:`<p>${w(n("form_opened")||"Форму відкрито у блоці AI Hub.")}</p>`})},name:"/form"});function st(t=""){const e=[...X.keys()].filter(o=>o.startsWith("/")&&o.includes(t)).slice(0,6);u.suggestions.querySelectorAll("li").forEach(o=>o.remove()),e.forEach(o=>{const i=X.get(o),a=document.createElement("li");a.innerHTML=`<button type="button" data-command="${o}">${o}</button>`,a.title=i.description,u.suggestions.appendChild(a)}),u.input.setAttribute("aria-expanded",e.length?"true":"false")}let pe;function bt(t){const e=document.querySelector(t);e&&(e.classList.add("pulse-highlight"),clearTimeout(pe),pe=setTimeout(()=>e.classList.remove("pulse-highlight"),1600),e.scrollIntoView({behavior:"smooth",block:"start"}))}u.form?.addEventListener("submit",t=>{t.preventDefault();const e=u.input.value.trim();if(!e)return;y({role:"user",html:`<p>${w(e)}</p>`}),z("info","User input",{type:e.startsWith("/")?"command":"chat",text:e});const o=u.input.closest(".dock-field");o&&o.classList.add("is-busy"),u.sendBtn&&(u.sendBtn.classList.add("is-loading"),u.sendBtn.disabled=!0);const i=document.querySelector("[data-send-status]");i&&(i.textContent=n("sending")||"Відправка…");const a=()=>{o&&o.classList.remove("is-busy"),u.sendBtn&&(u.sendBtn.classList.remove("is-loading"),u.sendBtn.disabled=!0),i&&(i.textContent=n("ready")||"Готово.")};if(e.startsWith("/"))try{ao(e)}finally{a()}else{try{_e(e)}catch(l){console.warn("[stackFunctionCalling] error",l),z("warn","stackFunctionCalling: помилка",{error:l?.message})}Te(e).catch(()=>{}).finally(a)}u.input.value="",Ft(),st("")});function ao(t){const[e,...o]=t.split(" "),i=X.get(e);if(!i){y({role:"bot",html:`<p>${w(n("unknown_command")||"Невідома команда")}: <code>${w(e)}</code>. ${w(n("try_help")||"Спробуй /help")}</p>`}),z("warn","Невідома команда",{name:e});return}try{z("debug","Запуск команди",{name:e,args:o.join(" ")}),i.run?.(o.join(" "))}catch(a){console.error(a),y({role:"bot",html:`<p>${w(n("cmd_error")||"Помилка виконання команди.")}</p>`}),z("error","Команда: помилка виконання",{name:e,error:a?.message})}}function yt(){!u.input||!u.sendBtn||(u.sendBtn.disabled=!u.input.value.trim().length)}u.input?.addEventListener("input",()=>{Ft();const t=u.input.value.trim();t.startsWith("/")?st(t.slice(1)):st(""),yt()});u.input?.addEventListener("keyup",yt);u.input?.addEventListener("change",yt);u.input?.addEventListener("focus",yt);u.openCommandsBtn?.addEventListener("click",()=>{u.input.focus(),u.input.value.startsWith("/")||(u.input.value="/"+u.input.value,u.input.dispatchEvent(new Event("input")))});u.suggestions?.addEventListener("click",t=>{const e=t.target.closest("button[data-command]");e&&(u.input.value=e.getAttribute("data-command"),u.input.focus(),st(u.input.value.slice(1)))});u.input?.addEventListener("keydown",t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),u.form.requestSubmit()),t.key==="Escape"&&st("")});function w(t){return t.replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e)}Qe().then(t=>{t&&console.info("[profile] loaded",t.name)});$("/profile",{description:"Показати короткий профіль користувача",run(){const t=dt();if(!t){y({role:"bot",html:`<p>${w(n("profile_not_loaded")||"Профіль ще не завантажено.")}</p>`});return}const e=Object.entries(t.skills||{}).map(([o,i])=>`<li><strong>${o}</strong>: ${(i||[]).slice(0,4).join(", ")}${(i||[]).length>4?"…":""}</li>`).join("");y({role:"bot",html:`<p><strong>${w(t.name)}</strong> — ${w(t.role)}${t.location?" • "+w(t.location):""}</p><p>${w(t.tagline||"")}</p><ul class="mono" style="padding-left:1.1rem;list-style:disc">${e}</ul>`})},name:"/profile"});$("/setkey",{description:"Задати або показати API ключ (/setkey <ключ>). Зберігається в localStorage.",usage:"/setkey sk-... | /setkey",run(t){const e=t.trim();if(!e){const i=Ge();y({role:"bot",html:`<p>Поточний ключ: ${i?"<code>"+w(i.slice(0,8))+"…</code>":"<em>не встановлено</em>"}</p>`});return}const o=We(e);y(o?{role:"bot",html:`<p>Ключ встановлено (початок: <code>${w(e.slice(0,8))}…</code>). Тепер можна запускати <code>/ai</code>.</p>`}:{role:"bot",html:"<p>Невірний ключ.</p>"})},name:"/setkey"});(function(){try{const e=localStorage.getItem("AI_KEY");e&&!window.__AI_KEY&&(window.__AI_KEY=e,console.info("[ai] Loaded key from localStorage (prefix:",e.slice(0,5)+")"))}catch{}})();(function(){try{const e=document.querySelector('[data-ai-stat="commands"]');e&&(e.textContent=String(X.size))}catch{}})();(function(){try{localStorage.getItem("theme")==="light"&&(document.body.classList.add("light-theme"),console.info("[theme] Light theme loaded from localStorage")),ot()}catch{}})();document.addEventListener("click",t=>{if(t.target.closest?.("[data-theme-toggle]"))try{gt("toggle")}catch{}});st("");Ft();u.sendBtn&&u.input&&(u.sendBtn.disabled=!u.input.value.trim().length);const qe=document.createElement("style");qe.textContent=`
	.pulse-highlight { position: relative; }
	.pulse-highlight:after { content:""; position: absolute; inset:0; border-radius: 24px; pointer-events:none; animation:pulseSec 1.6s ease-out; background: radial-gradient(circle at 50% 50%,rgba(var(--accent-rgb)/0.35),transparent 70%); }
	@keyframes pulseSec { from { opacity:.85; transform:scale(.95);} to { opacity:0; transform:scale(1.2);} }
	.dock-hints button, [data-suggestions] button { cursor: pointer; }
	[data-suggestions] { max-height: 140px; overflow-y: auto; }
	[data-suggestions]::-webkit-scrollbar { width: 8px; }
	[data-suggestions]::-webkit-scrollbar-thumb { background: linear-gradient(180deg,#303642,#29303b); border-radius: 20px; }
`;document.head.appendChild(qe);console.info("[chat] Command system initialized with",X.size,"commands");(function(){const e=document.querySelector(".chat-dock__unit");if(!e)return;const o=e.querySelector(".chat-dock__panel"),i=e.querySelector("summary");if(!o||!i)return;i.addEventListener("click",c=>{c.preventDefault(),e.hasAttribute("open")?s():a()});function a(){e.setAttribute("open",""),o.classList.add("is-expanding"),o.style.height="0px",requestAnimationFrame(()=>{const c=o.scrollHeight;o.style.height=c+"px",o.classList.add("is-animating")}),o.addEventListener("transitionend",l,{once:!0}),i.setAttribute("aria-expanded","true")}function l(){o.classList.remove("is-expanding","is-animating"),o.style.height=""}function s(){const c=o.scrollHeight;o.style.height=c+"px",o.classList.add("is-collapsing"),requestAnimationFrame(()=>{o.style.height="0px",o.classList.add("is-animating")}),o.addEventListener("transitionend",d,{once:!0}),i.setAttribute("aria-expanded","false")}function d(){o.classList.remove("is-collapsing","is-animating"),o.style.height="",e.removeAttribute("open")}})();Re();function J(t,e,o){const i=document.createElement(t);return e&&(i.className=e),o&&(i.textContent=o),i}function Pt(t=!1){const e=document.getElementById("stack");if(!e)return;const o=e.querySelector(".shell");if(!o)return;const i=o.querySelector(".stack-groups"),a=o.querySelector(".stack-summary");if(i&&!t)return;i&&t&&i.remove(),a&&t&&a.remove();const l=o.querySelector(".tag-cloud"),s=o.querySelector(".lead"),d=e.getAttribute("data-stack-groups");let c=null;d&&(c=d.split(",").map(m=>m.trim()).filter(Boolean));const f=J("div","stack-groups");if(f.setAttribute("role","list"),c&&c.length){const m=J("div","stack-summary"),p=I(),S=p==="en"?"Focused slice:":"Фокусований зріз:",A=p==="en"?"— key competencies that combine product speed and AI integrations.":"— ключові компетенції, що поєднують продуктову швидкість і AI інтеграції.",L=c.map(E=>mt[p]&&mt[p][E]||E);m.innerHTML=`
      <p class="stack-summary__p"><strong>${S}</strong> ${L.join(" + ")} ${A}</p>
    `;const v=o.querySelector("#stack-title");v&&v.insertAdjacentElement("afterend",m)}Object.entries(jt).forEach(([m,p])=>{if(c&&!c.includes(m))return;const S=J("section","stack-group");S.classList.add(`stack-group--${m}`),S.setAttribute("role","listitem");const A=I(),L=mt[A]&&mt[A][m]||m,v=J("h3","stack-group__title",L);S.appendChild(v);const E=J("ul","stack-group__list");p.forEach(P=>{const H=J("li","stack-item"),O=I(),D=se[O]&&se[O][P]||P,x=re[O]&&re[O][P]||"",U=J("span","stack-item__tech",D),B=J("span","stack-item__desc",x);H.appendChild(U),B.textContent&&H.appendChild(B),E.appendChild(H)}),S.appendChild(E),f.appendChild(S)});const g=o.querySelector("#stack-title");g?g.insertAdjacentElement("afterend",f):o.appendChild(f),l&&(l.style.display="none"),s&&(s.style.display="none")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>Pt(!1)):requestAnimationFrame(()=>Pt(!1));window.renderStackSection=Pt;function ue(){const t=document.querySelector("[data-info-blocks]");t&&(t.querySelectorAll(".info-block").forEach(e=>{const o=e.querySelector(".info-block__toggle"),i=e.querySelector(".info-block__body");!o||!i||(o.hasAttribute("aria-expanded")||o.setAttribute("aria-expanded","true"),o.setAttribute("type","button"))}),t.addEventListener("click",e=>{const o=e.target.closest(".info-block__toggle");if(!o)return;const i=o.closest(".info-block"),a=i?.querySelector(".info-block__body");if(!a)return;const l=i.classList.toggle("is-collapsed");o.setAttribute("aria-expanded",l?"false":"true"),o.textContent=l?"+":"−",l?(a.style.maxHeight||(a.style.maxHeight=a.scrollHeight+"px",a.offsetHeight),requestAnimationFrame(()=>a.style.maxHeight="0px")):(a.style.maxHeight=a.scrollHeight+"px",a.addEventListener("transitionend",function s(d){d.propertyName==="max-height"&&!i.classList.contains("is-collapsed")&&(a.style.removeProperty("max-height"),a.removeEventListener("transitionend",s))}))}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ue):ue();console.info("[info-blocks] initialized");const io={BASE_URL:"/Portfolio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function $e(t){if(!t||/^(?:https?:)?\/\//i.test(t)||/^data:/i.test(t))return t;const e=String(t).replace(/^\.?\//,"").replace(/^public\//,"");let o=null;try{typeof import.meta<"u"&&io&&(o="/Portfolio/")}catch{}const i=typeof document<"u"&&document.querySelector("base")?.getAttribute("href")||"/",a=o||i;try{return new URL(e.replace(/^\//,""),a.endsWith("/")?a:a+"/").toString()}catch{return(a.endsWith("/")?a:a+"/")+e.replace(/^\//,"")}}const so={email:"icons8-gmail-logo.svg",github:"icons8-github.svg",telegram:"icons8-telegram.svg",linkedin:"icons8-linkedin.svg",twitter:"icons8-twitter.svg",instagram:"icons8-instagram-logo.svg",phone:"accept-call-icon.svg"};function ro(t){return fetch(t).then(e=>e.ok?e.text():null).catch(()=>null)}async function me(){const t=document.querySelectorAll("a[data-social]"),e=new Map;for(const o of t){if(o.dataset.iconInjected==="1")continue;const i=o.dataset.social,a=so[i];if(!a)continue;e.has(a)||e.set(a,ro($e(`public/${a}`)));const l=await e.get(a);if(!l)continue;const s=document.createElement("span");s.className="soc-ic",s.innerHTML=l.trim(),o.prepend(s);const d=o.querySelector(".cl-ic");d&&d.remove(),o.classList.contains("contact-link")&&(o.style.paddingLeft="1.55rem"),o.dataset.iconInjected="1"}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",me):me();console.info("[social-icons] init");const ft=[{id:"tea-site",title:"Tea Landing",short:{uk:"Простий лендинг про різні сорти чаю.",en:"Simple landing page about different types of tea."},year:2025,role:"Front-end",tech:["HTML","CSS","JavaScript"],status:"concept",tags:["landing","content"],thumb:"public/projectImg/Tealux.png",links:{live:"https://storied-squirrel-72686a.netlify.app/"}},{id:"iphone-landing",title:"iPhone Product Page",short:{uk:"Вітрина з ключовими фічами та секцією порівняння.",en:"Showcase with key features and a comparison section."},year:2025,role:"Front-end",tech:["HTML","CSS","JavaScript"],status:"concept",tags:["landing","device"],thumb:"public/projectImg/Iphone.png",links:{live:"https://silver-narwhal-2a7963.netlify.app/"}},{id:"restart-ukraine",title:"Re:Start Ukraine",short:{uk:"Інформаційно-освітня платформа для відновлення та розвитку України.",en:"An informational and educational platform for Ukraine’s recovery and development."},year:2025,role:"Front-end",tech:["HTML","CSS","JavaScript"],status:"concept",tags:["civic","education","landing"],thumb:"public/projectImg/ReStart.png",links:{live:"https://restartukraine.netlify.app/"}},{id:"vintopia",title:"Vintopia",short:{uk:"Сторінка про винний досвід / дегустації (концепт).",en:"A page about wine experiences/tastings (concept)."},year:2025,role:"Front-end",tech:["HTML","CSS","JavaScript"],status:"concept",tags:["landing","lifestyle"],thumb:"public/projectImg/Vintopia.png",links:{live:"https://kaleidoscopic-dodol-ba7aa.netlify.app/"}}];function lo(t){if(!t)return ft;const e=String(t).toLowerCase();return ft.filter(o=>{const i=o.tech.some(d=>String(d).toLowerCase().includes(e)),a=o.tags&&o.tags.some(d=>String(d).toLowerCase().includes(e))||!1,l=String(o.title).toLowerCase().includes(e);let s=!1;if(typeof o.short=="string")s=o.short.toLowerCase().includes(e);else if(o.short&&(o.short.uk||o.short.en)){const d=String(o.short.uk||"").toLowerCase(),c=String(o.short.en||"").toLowerCase();s=d.includes(e)||c.includes(e)}return i||a||l||s})}function co(t){const e=t.tech.slice(0,6).map(c=>`<li>${c}</li>`).join(""),o=t.tags?.length?`<ul class="project-card__tags">${t.tags.slice(0,4).map(c=>`<li>${c}</li>`).join("")}</ul>`:"",i=t.links?Object.entries(t.links).filter(([,c])=>!!c).map(([c,f])=>`<a href="${f}" target="_blank" rel="noopener" class="project-link project-link--${c}">${c}</a>`).join(""):"",a=t.links?.live?`<a class="project-card__title-link" href="${t.links.live}" target="_blank" rel="noopener" title="Відкрити live">${t.title}</a>`:t.title,l=t.thumb?$e(t.thumb):null,s=I();let d="";return typeof t.short=="string"?d=t.short:t.short&&(t.short[s]||t.short.uk||t.short.en)&&(d=t.short[s]||t.short.uk||t.short.en||""),`<div class="project-card" data-project="${t.id}" data-status="${t.status||""}">
    <div class="project-card__thumb">${l?`<img src="${l}" alt="${t.title}" loading="lazy">`:'<div class="thumb-ph" aria-hidden="true"></div>'}</div>
    <div class="project-card__body">
      <h3 class="project-card__title">${a}</h3>
      <p class="project-card__desc">${d||""}</p>
      <ul class="project-card__tech mono">${e}</ul>
      ${o}
      <div class="project-card__meta mono small"><span>${t.role}</span> • <span>${t.year}</span></div>
      ${i?`<div class="project-card__links">${i}</div>`:""}
    </div>
  </div>`}function Rt(t=ft){const e=document.querySelector(".projects__grid");e&&(e.classList.remove("placeholder-cards"),e.innerHTML=t.map(co).join(""),uo())}function po(t){const e=lo(t);Rt(e)}Rt();window.__PROJECTS=ft;window.renderProjects=Rt;window.filterAndRenderProjects=po;function uo(){document.querySelectorAll(".project-card__thumb img").forEach(e=>{e.dataset.fallbackBound||(e.dataset.fallbackBound="1",e.addEventListener("error",()=>{const i=`<svg xmlns='http://www.w3.org/2000/svg' width='640' height='360' viewBox='0 0 640 360'><defs><linearGradient id='g' x1='0' x2='1' y1='0' y2='1'><stop stop-color='%2310b981' offset='0'/><stop stop-color='%2384cc16' offset='1'/></linearGradient></defs><rect fill='%2322262e' width='640' height='360'/><rect fill='url(%23g)' opacity='0.22' width='640' height='360'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%239aa6b4' font-family='Inter,Arial,sans-serif' font-size='32' font-weight='600'>${(e.alt||"Project").replace(/</g,"&lt;").replace(/&/g,"&amp;").slice(0,40)}</text></svg>`,a="data:image/svg+xml,"+encodeURIComponent(i);e.src=a,e.classList.add("is-fallback")},{once:!0}))})}
